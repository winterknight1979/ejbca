<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>End Entity Profiles - EJBCA - Documentation Space</title>

    
            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="85921598">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_6.15.2.6_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=23856789"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_6.15.2.6_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Documentation.html">EJBCA Documentation</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_Operations.html">EJBCA Operations</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_User_Guide.html">EJBCA User Guide</a></li>
                                                                                     <li><a href="CA_Operations_Guide.html">CA Operations Guide</a></li>
                                                            </ul>
</div>            <h1 id="src-23856789"> <span>End Entity Profiles</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

    <div class="section section-1" id="src-23856789_id-.EndEntityProfilesv6.15.0-Introduction">
        <h1 class="heading "><span>Introduction</span></h1>
<p   
>An End Entity Profile provides a template for the Subject DN fields of an end entity by defining which fields that are already pre-set, may be altered or modifiable. It may also contain other information that is specific to each individual end entity. End Entity Profiles may also be used to limit access to specific Certificate Profiles for enrolling end entities, allowing further granularization of what kinds of certificates a CA issues.</p>
<p   
>This section provides the following information on End Entity Profiles:</p>
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-23856789_id-.EndEntityProfilesv6.15.0-Introduction">Introduction</a></p>
</li><li class=" "><p   
><a   href="#src-23856789_id-.EndEntityProfilesv6.15.0-EndEntityProfileFields">End Entity Profile Fields</a></p>
</li><li class=" "><p   
><a   href="#src-23856789_id-.EndEntityProfilesv6.15.0-EndEntityProfileLimitationsEnd_Entity_Profile_Limitations">End Entity Profile Limitations</a></p>
</li><li class=" "><p   
><a   href="#src-23856789_id-.EndEntityProfilesv6.15.0-ExportingEndEntityProfiles">Exporting End Entity Profiles</a></p>
</li><li class=" "><p   
><a   href="#src-23856789_id-.EndEntityProfilesv6.15.0-ImportingEndEntityProfiles">Importing End Entity Profiles</a></p>
</li><li class=" "><p   
><a   href="#src-23856789_id-.EndEntityProfilesv6.15.0-Step-by-stepExample">Step-by-step Example</a></p>
</li></ul><p   
>For a step-by-step example on how to create an end entity profile suitable for a web server, see <a   href="Create_an_End_Entity_Profile_for_SSL_Servers.html">Create an End Entity Profile for SSL Servers</a>.</p>
    </div>
    <div class="section section-1" id="src-23856789_id-.EndEntityProfilesv6.15.0-EndEntityProfileFields">
        <h1 class="heading "><span>End Entity Profile Fields</span></h1>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-UsernameFieldUsername_Field">
        <h2 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-Username_Field" class="confluence-anchor-link"></span><span>Username Field </span></h2>
<p   
>The Username value represents an unique identifier for an end entity (user, server, device, etc). During the operation of adding an end entity username can be manually set or automatically generated. Selecting the Auto-generated checkbox in the end entity profile will generate unique values when end entities are added.</p>
    </div>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-PasswordFieldPassword_Field">
        <h2 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-Password_Field" class="confluence-anchor-link"></span><span>Password Field </span></h2>
<p   
>Passwords are used when a user (end entity) is requesting a certificate and/or when generating a keystore. Usually this is required, and no default value is configured. When the password is only used during the request procedure, this is called an <strong class=" ">Enrollment Code</strong> in the public web, since the password is only valid once and not used to protect the keys. Note that there is no difference between an <strong class=" ">Enrollment Code</strong> and a <strong class=" ">Password</strong> other than the name.</p>
<p   
>You can use auto-generation of passwords with email notification to send the user a generated password together with information on how to fetch the certificate.</p>
<p   
>You can also specify the minimum bit-strength a password is allowed to have in order to make policy compliance easier. The strength of a password is calculated as</p>
<p   
><strong class=" ">floor</strong>((    <span style="color: #ff6600;">
<i class=" ">the number characters in the password</i>    </span>
)*<strong class=" ">log<sub class=" ">2</sub></strong>(    <span style="color: #ff6600;">
number of allowed password characters    </span>
))</p>
<p   
>For non-generated passwords the <i class=" ">number of allowed password characters</i> is estimated to 72.</p>
<p   
>Example usage:</p>
    <div  class="confbox programlisting">
                <div class="content">
        <pre><code>Password: &quot;foobar123&quot; (9 characters)
Allowed characters: a-z, A-Z, 0-9, 22 additional printable characters (72 in total)
Password strength / char: log2(72) = 6.17
Password strength: floor(6.17 * 9) = floor(55.53) = 55 bits</code></pre>
        </div>
    </div>
<p   
>Setting this value to 55 will require the RA admin to set a 9 character password or longer.</p>
    </div>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-SubjectDNFieldsSubject_DN_Fields">
        <h2 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-Subject_DN_Fields" class="confluence-anchor-link"></span><span>Subject DN Fields </span></h2>
<p   
>Subject DN fields define which DN components should be present for an end entity. If the <strong class=" ">System Configuration</strong> option <strong class=" ">Enable End Entity Profile Limitations</strong> is enabled, this restricts the values that can be used when adding or editing an end entity using all interfaces, be it web GUI, web service, CMP or something else. If you define values as required and non-modifiable, you can specify one or more values. If you specify multiple values separated by ';', the admin in the Web GUI will get a drop-down list menu to select from.</p>
<p   
>In the Validation field you may restrict the allowed input, using a regular expression (regex). EJBCA uses <a  class="external-link" href="http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">Java Pattern</a> syntax, which is similar to the Perl regex syntax. Matching is case sensitive by default, but this can be changed by adding (?i) in front of the regex. Here are some examples:</p>
<ul class=" "><li class=" "><p   
>[0-9]+ allows digits only</p>
</li><li class=" "><p   
>[0-9A-Za-z]+ allows digits and English letters only, no spaces</p>
</li><li class=" "><p   
>[0-9A-Za-z ]+ allows digits and English letters and spaces</p>
</li><li class=" "><p   
>.+@.+ allows strings containing &quot;@&quot;, for example e-mail addresses</p>
</li><li class=" "><p   
>[a-zA-Z0-9+._-]+@[a-zA-Z0-9.-]+ allows e-mail addresses with English characters only</p>
</li><li class=" "><p   
>[a-zA-Z0-9+._-]+@yourdomain\.com allows only e-mails from a specific domain</p>
</li><li class=" "><p   
>[a-zA-Z0-9._-]+\.yourdomain\.com allows only subdomains of <a  class="external-link" href="http://yourdomain.com">yourdomain.com</a> (but not <a  class="external-link" href="http://yourdomain.com">yourdomain.com</a> itself)</p>
</li><li class=" "><p   
>([a-zA-Z0-9._-]+\.)?yourdomain\.com allows <a  class="external-link" href="http://yourdomain.com">yourdomain.com</a> with or without a subdomain</p>
</li></ul><p   
>When having several fields of a certain type with mixed required and not required fields some special handling might be needed when adding users using web service API. If you have for example:</p>
<ul class=" "><li class=" "><p   
>The first OU field is required (Bar1) and not modifiable.</p>
</li><li class=" "><p   
>The next 3 OU fields are modifiable only (not required).</p>
</li><li class=" "><p   
>The last OU is required (Bar1) and not modifiable.</p>
</li></ul><p   
>Then when adding an end entity with DN &quot;CN=Foo,OU=Bar1,OU=Bar2&quot; will result in an error like the following:</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">org.ejbca.core.model.ra.raadmin.EndEntityProfileValidationException: Subject DN field </code><code class="string">'ORGANIZATIONALUNIT'</code><code class="plain"> must exist. </code></div>
</div>
    </div>
<p   
>This is because EJBCA cannot keep track of which fields you mean to set, if it is one of the required or non-required. To help EJBCA determine this you can specify the non-required OU fields with empty values, &quot;<code class=" ">CN=Foo,OU=Bar1,OU=,OU=,OU=,OU=Bar2</code>&quot;.</p>
<p   
>There is one particular subject DN field that deserves extra information, <strong class=" ">postalAddress</strong>.</p>
<p   
>PostalAddress is not encoded as a string, but is an <a  class="external-link" href="http://www.alvestrand.no/objectid/2.5.4.16.html">ASN.1 sequence</a>. If you only enter the value as a string it will be encoded as a simple UTF8String, which is invalid. You need to enter is as a hex encoded ASN.1 DirectoryString. This is done by hex encoding the ASN.1 object and pre-pending it with #, i.e. #30...</p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>    <span style="color: #3d3c40;">
These characters are forbidden by default in the database: <strong class=" ">'\n', '\r', ';', '!', '\0', '%', '`', '?', '$', '~' </strong>and can not be used in the subject DN filed value.    </span>
</p>
<p   
>    <span style="color: #3d3c40;">
The GUI have additional, client side restrictions using a regexp:<strong class=" "> /[^\u0041-\u005a\u0061-\u007a\u00a1-\ud7ff\ue000-\uffff_ 0-9@.\&amp;*\,-:\/\?\'\=#()|]/g</strong>    </span>
</p>
<p   
>Also note that     <span style="color: #3d3c40;">
it is configurable in <i class=" "><strong class=" ">cesecore.properties</strong></i> which characters are forbidden in the database.    </span>
</p>
        </div>
    </div>
<p   
></p>
    </div>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-SubjectAlternativeNamesSubject_Alternative_Names">
        <h2 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-Subject_Alternative_Names" class="confluence-anchor-link"></span><span>Subject Alternative Names</span></h2>
<p   
>Subject alternative names (altNames) are extra naming items that are not fit to have in the Distinguished Name, such as email, dns, ip address etc. There are a number of standard ones, and the possibility to define special ones, which many companies have done for altNames such as MS UPN, GUID, Krb5PrincipalName.</p>
<p   
>Subject alternative names can be: rfc822Name=&lt;email&gt;, dNSName=&lt;host name&gt;, uri=&lt;http://host.com/&gt;, ipaddress=&lt;address&gt;, upn=&lt;MS UPN&gt;, guid=&lt;MS globally unique id&gt;, directoryName=&lt;LDAP escaped DN&gt;, krb5principal=&lt;Krb5 principal name&gt;, permanentIdentifier=&lt;Permanent Identifier values&gt;, subjectIdentificationMethod=&lt;Subject Identification Method values or parameters&gt;</p>
<p   
>The text fields and options for Subject Alternative Names generally work in a similar way as the <a   href="#src-23856789_id-.EndEntityProfilesv6.15.0-Subject_DN_Fields">Subject DN fields</a>.</p>
    <div class="section section-3" id="src-23856789_safe-id-aWQtLkVuZEVudGl0eVByb2ZpbGVzdjYuMTUuMC1SRkM4MjJOYW1lKGUtbWFpbGFkZHJlc3Mp">
        <h3 class="heading "><span>RFC 822 Name (e-mail address)</span></h3>
<p   
>Configuration of email fields can be complex since there are two places in the End Entity profile where email addresses can be configured:</p>
<ul class=" "><li class=" "><p   
>Email field: Registers a user email in the EJBCA database (used for email notifications and so on).</p>
</li><li class=" "><p   
>Subject alternative name field: Adds an email address to the SubjectAlternativeName field in an issued certificate.</p>
</li></ul><p   
>These two fields can be the same, but does not have to be, which is why configuration can be complex if you configure them individually.</p>
<p   
>For the Subject alternative name field there are different options:</p>
<ul class=" "><li class=" "><p   
>Use entity e-mail field checked: this results in a single entry for 'End Entity E-mail' when adding a new end entity.</p>
<ul class=" "><li class=" "><p   
><strong class=" ">Required:</strong> if checked the 'End Entity E-mail' field must be filled and cannot be omitted.</p>
</li></ul></li><li class=" "><p   
>Use entity e-mail field unchecked: this results in a separate input field for 'RFC 822 Name'.</p>
<ul class=" "><li class=" "><p   
><strong class=" ">Required:</strong> if checked the 'RFC 822 Name' field must be filled and cannot be omitted.</p>
</li></ul></li><li class=" "><ul class=" "><li class=" "><p   
><strong class=" ">Modifiable:</strong> if checked the RA administrator can fill in an email address.<br/>If a domain (<a  class="external-link" href="http://foo.com">foo.com</a>) is set in the profile the RA administrator can fill in the first part of the email, i.e. before @ (since the domain is pre-filled), but also the domain part can be modified.<br/>If Modifiable is unchecked a full, fixed, email address must be provided in the profile, and all end entities will be registered with this email address (the profile can be configured with only domain part, but filling an email address by the RA administrator later will not work).</p>
</li></ul></li></ul>    </div>
    <div class="section section-3" id="src-23856789_id-.EndEntityProfilesv6.15.0-IPaddress">
        <h3 class="heading "><span>IP address</span></h3>
<p   
>An IP address can be either an IPv4 address or an IPv6 address.</p>
<p   
>Example IPv4: <code class=" ">192.168.2.54</code></p>
<p   
>Example IPv6: <code class=" ">2001:DB8:85A3:0:0:8A2E:370:7334</code></p>
    </div>
    <div class="section section-3" id="src-23856789_id-.EndEntityProfilesv6.15.0-Krb5PrincipalName">
        <h3 class="heading subsubsection"><span>Krb5 Principal Name</span></h3>
<p   
>The Krb5 principal name is in the format &quot;principal1/principal2@realm&quot; and should be entered as such in the field.</p>
<p   
>For example <code class=" ">user@PRIMEKEY.COM</code> for a normal user in the realm <code class=" ">PRIMEKEY.COM</code> or <code class=" ">krbtgt/PRIMEKEY.COM@PRIMEKEY.COM</code> for a <code class=" ">KDC</code>.</p>
    </div>
    <div class="section section-3" id="src-23856789_safe-id-aWQtLkVuZEVudGl0eVByb2ZpbGVzdjYuMTUuMC1QZXJtYW5lbnRJZGVudGlmaWVyKFJGQzQwNDMp">
        <h3 class="heading "><span>Permanent Identifier (RFC 4043)</span></h3>
<p   
>The Permanent Identifier is of the form &quot;identifierValue/assigner&quot; where identifierValue is an optional string and assigner is an optional OID and should be entered as such in the field. If the identifierValue string contains a '/' (slash) character, it should be escaped with an back slash (&quot;\/&quot;).</p>
<p   
>Examples:</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">abc0123/</code><code class="value">1.2</code><code class="plain">.</code><code class="value">3.4</code></div>
<div class="line"><code class="plain">abc0123/</code></div>
<div class="line"><code class="plain">/</code><code class="value">1.2</code><code class="plain">.</code><code class="value">3.4</code></div>
<div class="line"><code class="plain">/</code></div>
</div>
    </div>
    </div>
    <div class="section section-3" id="src-23856789_safe-id-aWQtLkVuZEVudGl0eVByb2ZpbGVzdjYuMTUuMC1TdWJqZWN0SWRlbnRpZmljYXRpb25NZXRob2QoUkZDNDY4Myk">
        <h3 class="heading subsubsection"><span>Subject Identification Method (RFC 4683)</span></h3>
<p   
>The SIM (Subject Identification Method) value is stored in the form &quot;HashAlgorithmOid::HashedAuthorityRandom::PEPSI&quot; where PEPSI (Privacy-Enhanced Protected Subject Information) is built by the two times hashed concatenation of the user chosen password, the authority random value, the SSI type and the SSI itself. This value is calculated after adding or editing an end entity. Therefore the SIM needs to be entered as its parameters of the form 'HashAlgorithmOid::UserChosenPassword::SSIType::SSI', where the SSIType is the type of SSI (Sensitive Identification Information).</p>
<p   
>Examples for input parameters with SHA-256 hash algorithm and calculated SIM (is done after saving an end entity with SIM parameters):</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="value">2.16</code><code class="plain">.</code><code class="value">840.1</code><code class="plain">.</code><code class="value">101.3</code><code class="plain">.</code><code class="value">4.2</code><code class="plain">.</code><code class="value">1</code><code class="plain">::MoreThan8Chars::DriversLicenseId::ABC1234567</code></div>
<div class="line"><code class="plain">-&gt; is processed to </code></div>
<div class="line"><code class="value">2.16</code><code class="plain">.</code><code class="value">840.1</code><code class="plain">.</code><code class="value">101.3</code><code class="plain">.</code><code class="value">4.2</code><code class="plain">.</code><code class="value">1</code><code class="plain">::CB3AE7FBFFFD9C85A3FB234E51FFFD2190B1F8F161C0A2873B998EFAC067B03A::6D9E6264DDBD0FC997B9B40524247C8BC319D02A583F4B499DD3ECAF06C786DF</code></div>
</div>
    </div>
    </div>
    <div class="section section-3" id="src-23856789_safe-id-aWQtLkVuZEVudGl0eVByb2ZpbGVzdjYuMTUuMC1GZWRlcmFsQWdlbmN5U21hcnRDcmVkZW50aWFsTnVtYmVyKEZBU0MtTik">
        <h3 class="heading "><span>Federal Agency Smart Credential Number (FASC-N)</span></h3>
<p   
>FASC-N is an OtherName defined for PIV certificates in <a  class="external-link" href="http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.201-2.pdf">FIPS 201-2</a>. It is encoded as an Octet String and therefore the altName in EJBCA is entered as Hex encoded octets. A subjectAltName string could for example look like:</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">rfc822Name=email</code><code class="color1">@example</code><code class="plain">.com, fascN=0419d23210d8210c2c1a843085a16858300842108608823210c3e1</code></div>
</div>
    </div>
<p   
>Since the field is limited to 25 bytes, a suggested validation regex would be <code class=" ">[0-9a-f]{1,50}</code>.</p>
    </div>
    </div>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-CertificateValidityCertificate_Validity">
        <h2 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-Certificate_Validity" class="confluence-anchor-link"></span><span>Certificate Validity </span></h2>
<p   
>By setting the Certificate Validity Start Time and End Time you can precisely specify, for a specific end entity, when the certificate will start being valid and when the certificate will cease being valid.</p>
<p   
>When selecting to use Certificate Validity Start or End time you will get the possibility to enter these fields when a new end entity is added. You can also specify a default value for the end entity profile. Different formats of specifying the validity time is provided as examples in the end entity profile page.</p>
<p   
>This function requires the 'Allow validity override' function in the Certificate Profile.</p>
    </div>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-RevocationReasontosetAfterCertificateIssuanceRevocation_Reason_to_set_After_Certificate_Issuance">
        <h2 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-Revocation_Reason_to_set_After_Certificate_Issuance" class="confluence-anchor-link"></span><span>Revocation Reason to set After Certificate Issuance </span></h2>
<p   
>Using this option you can define that when adding a new user, the revocation state of an issued certificate can be set immediately to something else than 'Active'.</p>
<p   
>Useful if you want to issue certificate that are 'On hold' for users. After the user receives the certificate they might be required to perform some action in order to have their certificate activated.</p>
<p   
>Most useful when used in combination with OCSP since it will require, in practice, instant revocation checking.</p>
<p   
>When enabling this option in the profile, a corresponding selection will be available when adding new users. The user data corresponding to this option is an ExtendedInformation attribute, ExtendedInformation.CUSTOM_REVOCATIONREASON.</p>
    </div>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-ReverseSubjectDNAltNameChecksReverse_Subject_DN_Alt_Name_Checks">
        <h2 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-Reverse_Subject_DN_Alt_Name_Checks" class="confluence-anchor-link"></span><span>Reverse Subject DN Alt Name Checks </span></h2>
<p   
>This checkbox is not recommended to be used in normal operations. When using the External RA and more than one DN field type is set in the profile, for example one optional OU and one required OU, it might be needed to check this checkbox for the profile validation to work.</p>
<p   
>Only use it in such a special case if nothing else work. This option may be removed in the future.</p>
    </div>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-MaximumNumberofFailedLoginAttemptsMaximum_Number_of_Failed_Login_Attempts">
        <h2 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-Maximum_Number_of_Failed_Login_Attempts" class="confluence-anchor-link"></span><span>Maximum Number of Failed Login Attempts </span></h2>
<p   
>By choosing a maximum number of failed login attempts the status of a user will change to GENERATED in case a wrong password is entered more than the specified number of times. Note that what is called a &quot;password&quot; in the admin web is often called an &quot;enrollment code&quot; in the public web. The <strong class=" ">Use</strong> option must be selected for the end entities to use this feature. If <strong class=" ">Modifiable</strong> is selected, the specified number can be changed for a particular end entity at the creation time of the end entity or later by editing it.</p>
    </div>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-CustomCertificateExtensionDataCustom_Certificate_Extension_Data">
        <h2 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-Custom_Certificate_Extension_Data" class="confluence-anchor-link"></span><span>Custom Certificate Extension Data </span></h2>
<p   
>By checking <strong class=" ">Use</strong> for custom certificate extension data in the end entity profile, a text area is provided when adding or editing an end entity for supplying custom certificate extension data.</p>
<p   
>Extension data is entered in the text area in the same format as for Java properties files, that is typically, key=value with one entry on each line. The extension data accepted and/or required depends on the custom extensions chosen in the certificate profile as 'Used Custom Certificate Extensions' and how these are configured.</p>
<p   
>For example, custom extensions of type BasicCertificateExtension configured with the property dynamic=true accept custom extension data in the form 'OID.value=value' where OID is the OID of the configured extension and value is the value to put in the extension in the configured encoding.</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="value">1.2</code><code class="plain">.</code><code class="value">3.4</code><code class="plain">.value = 65486c6c206f6f776c720064</code></div>
<div class="line"><code class="value">1.5</code><code class="plain">.</code><code class="value">6</code><code class="plain">.value = Hello world</code></div>
</div>
    </div>
<p   
>For more information on available extensions and configuration, see <a   href="Custom_Certificate_Extensions.html">Custom Certificate Extensions</a>.</p>
<p   
>The following displays an example configuration of a certificate extension taking dynamic value in RAW hax encoded format:</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">OID: </code><code class="value">1.2</code><code class="plain">.</code><code class="value">3.4</code></div>
<div class="line"><code class="plain">Display Name: SingleExtension</code></div>
<div class="line"><code class="plain">Class Path: org.cesecore.certificates.certificate.certextensions.BasicCertificateExtension</code></div>
<div class="line"><code class="plain">Critical: </code><code class="keyword">false</code></div>
<div class="line"><code class="plain">Properties: </code></div>
<div class="line"><code class="plain">  dynamic=</code><code class="keyword">true</code></div>
<div class="line"><code class="plain">  encoding=RAW</code></div>
</div>
    </div>
<p   
>If the request (Extension Data) contains extensions which cannot match any configured Custom Certificate Extension in EJBCA, issuance will be rejected.</p>
    </div>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-NumberofAllowedRequestsNumber_of_Allowed_Requests">
        <h2 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-Number_of_Allowed_Requests" class="confluence-anchor-link"></span><span>Number of Allowed Requests </span></h2>
<p   
>By selecting <strong class=" ">Use</strong> for number of allowed requests you enable the possibility to request several certificates in a row, without the user status being set to generated. Normally after a username/password pair has been used to generate a certificate, the users status is set from 'new' to 'generated'. This makes the password invalid, thus implementing a one-time password scheme. By selecting a number higher than one for 'number of allowed requests' the user can request several certificates before the status is set to 'generated'. This makes it possible to enroll for several certificates directly, for example one authentication and one signature certificate.</p>
<p   
>The 'number of allowed requests' in the End Entity Profile will set the default, and maximum value available when adding or editing a new end entity. When editing an existing end entity and setting the status to new, from a non-new status, the 'number of allowed requests' will automatically be altered to the default value for the profile. If the end entity profile used no longer uses the 'number of allowed requests' the request counter for the end entity will be removed when the end entity is edited.</p>
    </div>
    <div class="section section-2" id="src-23856789_id-.EndEntityProfilesv6.15.0-PluginFieldRestrictions">
        <h2 class="heading "><span>Plugin Field Restrictions</span></h2>
<p   
>Administrators can develop further custom user field restrictions using the FieldValidator as described in <a   href="Customizing_EJBCA.html">Customizing EJBCA</a>.</p>
    </div>
    </div>
    <div class="section section-1" id="src-23856789_id-.EndEntityProfilesv6.15.0-EndEntityProfileLimitationsEnd_Entity_Profile_Limitations">
        <h1 class="heading "><span id="src-23856789_id-.EndEntityProfilesv6.15.0-End_Entity_Profile_Limitations" class="confluence-anchor-link"></span><span>End Entity Profile Limitations </span></h1>
<p   
>You can enable and disable End Entity Profile Limitations in the System Configuration.</p>
<ul class=" "><li class=" "><p   
>If disabling End Entity Profile Limitations, the administrator's ability to perform actions is limited by which CAs the administrator is authorized to access, irrespective of what End Entity Profiles the administrator has access to.</p>
</li><li class=" "><p   
>If End Entity Profile Limitations are enabled, the administrator's ability to perform actions is limited both by which CAs the administrator is authorized to access, and the End Entity Profiles the administrator has access to.</p>
</li></ul><p   
>Note that when this option is disabled, the list of End Entity Profiles under <strong class=" ">System Functions &gt; Administrator Roles &gt; Access Rules</strong> might be empty.</p>
    </div>
    <div class="section section-1" id="src-23856789_id-.EndEntityProfilesv6.15.0-ExportingEndEntityProfiles">
        <h1 class="heading heading"><span>Exporting End Entity Profiles</span></h1>
<p   
>Every non-fixed end entity profile is exported to the specified local directory as an xml file inside a zip file named <code class=" ">entityprofiles.zip</code>. The name of the xml file has the format entityprofile_PROFILENAME-PROFILEID.xml.</p>
    </div>
    <div class="section section-1" id="src-23856789_id-.EndEntityProfilesv6.15.0-ImportingEndEntityProfiles">
        <h1 class="heading heading"><span>Importing End Entity Profiles</span></h1>
<p   
>All profiles to be imported should be included in a zip file. The file containing a single profile should be an xml file and its name is in the format entityprofile_PROFILENAME-PROFILEID.xml. Any file with a name that is not in this format will be ignored.</p>
    </div>
    <div class="section section-1" id="src-23856789_id-.EndEntityProfilesv6.15.0-Step-by-stepExample">
        <h1 class="heading "><span>Step-by-step Example</span></h1>
<p   
>For a step-by-step example on how to create an end entity profile suitable for a web server, see <a   href="Create_an_End_Entity_Profile_for_SSL_Servers.html">Create an End Entity Profile for SSL Servers</a>.</p>
<p   
></p>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="SSL_Certificate_Expiration.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>SSL Certificate Expiration</span>
        </a>
                <a href="Create_an_End_Entity_Profile_for_SSL_Servers.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Create an End Entity Profile for SSL Servers</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

</body>
</html>
