<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Validation Tool Features - EJBCA - Documentation Space</title>

    
            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="85921598">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_6.15.2.6_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=16227344"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_6.15.2.6_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Documentation.html">EJBCA Documentation</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_Operations.html">EJBCA Operations</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_User_Guide.html">EJBCA User Guide</a></li>
                                                                                                         <li class="shortcut"><a href="Command_Line_Interfaces.html">Command Line Interfaces</a></li>
                                                                                     <li><a href="EJBCA_Validation_Conformance_Tool.html">EJBCA Validation/Conformance Tool</a></li>
                                                            </ul>
</div>            <h1 id="src-16227344"> <span>Validation Tool Features</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
>Available features of the Validation Tool are listed below, divided into <a   href="#src-16227344_ValidationToolFeatures-Certificate-specificFeatures">OCSP-specific features </a>and <a   href="#src-16227344_ValidationToolFeatures-Certificate-specificFeatures">Certificate-specific features</a></p>
    <div class="section section-1" id="src-16227344_ValidationToolFeatures-GeneralFeatures">
        <h1 class="heading "><span>General Features</span></h1>
<ul class=" "><li class=" "><p   
>The tool is independent of EJBCA version.</p>
</li><li class=" "><p   
>Configuration properties are validated before the testing starts.</p>
</li></ul>    </div>
    <div class="section section-1" id="src-16227344_ValidationToolFeatures-OCSP-specificFeatures">
        <h1 class="heading "><span>OCSP-specific Features</span></h1>
<ul class=" "><li class=" "><p   
>The OCSP command works as a real OCSP client sending requests to the configured OCSP responder(s).</p>
</li><li class=" "><p   
>The OCSP client can query multiple servers by specifying multiple &quot;url&quot; arguments at the command line. In addition, if multiple responders are behind an load balancer or VIP the queries in the CA configuration files can be configured to look for responses from specific responders by specifying the signer certificate subject DN. Then only responses from that responder will be considered.</p>
</li><li class=" "><p   
>The maximum number of tries to perform to get a response for a query from a particular responder is configurable at the command line by specifying the <i class=" ">maxtries</i> argument.</p>
</li><li class=" "><p   
>Querying for multiple CAs on each server by supplying multiple CA configuration files. New files can easily be created and supplied at the command line when invoking the tool.</p>
</li><li class=" "><p   
>Querying one OK, one revoked and one unknown certificate, as configured, from each CA by specifying multiple queries in the CA configuration file with different expected status for different certificates. The check <i class=" ">OcspCheck_ExpectedStatus</i> verifies that the status is the expected and <i class=" ">OcspCheck_ExpectedSigner</i> outputs if a response was received from the expected responder.</p>
</li><li class=" "><p   
>Verifying that the returned certificate chain in the OCSP response is good by adding the check called <i class=" ">OcspCheck_CertificateChain</i>.A basic certificate chain check is performed with the configured issuer certificate as trust anchor. More complex chains or chains where the responder certificate is not signed by the configured issuer might fail.</p>
</li><li class=" "><p   
>Verifying that the returned OCSP response verifies by adding the check called <i class=" ">OcspCheck_Response_verify</i>.</p>
</li><li class=" "><p   
>Verifying that the OCSP response is returned timely (configurable max time) by adding the check called <i class=" ">OcspCheck_Response_time</i>.</p>
</li><li class=" "><p   
>Verifying the nonce if configured to use one by adding the check called <i class=" ">OcspCheck_Nonce</i>.</p>
</li><li class=" "><p   
>Verifying that the right extensions are used by adding the checks called <i class=" ">OcspCheck_Extensions_required</i> and <i class=" ">OcspCheck_Extensions_allowed</i>.</p>
</li><li class=" "><p   
>The signer certificate can be validated with the same set of checks and configuration as with the certificate checks tool by adding the check called <i class=" ">OcspCheck_SignerCertificate</i> and configure it with the name of a certificate checks configuration file.</p>
</li></ul>    </div>
    <div class="section section-1" id="src-16227344_ValidationToolFeatures-Certificate-specificFeatures">
        <h1 class="heading "><span>Certificate-specific Features</span></h1>
<ul class=" "><li class=" "><p   
>The tool is configured with a configuration file pointing out a template certificate that can be used by the different checks to compare the certificates against. The configuration file also contains details about which checks to perform.</p>
</li><li class=" "><p   
>Certificates could be exported from EJBCA to the configured certificate folder for instance using a publisher.</p>
</li><li class=" "><p   
>Verifying that the sampled certificates are identical to the template certificate (except for dynamic values) by adding the check called <i class=" ">CertCheck_Certificate_identical</i>.</p>
</li><li class=" "><p   
>Verifying that the sampled certificates contains issuer and subject DN components that are configured to be required by adding the checks called <i class=" ">CertCheck_SubjectDNComponents_required</i> and <i class=" ">CertCheck_IssuerDNComponents_required</i>.</p>
</li><li class=" "><p   
>Verifying that the sampled certificates does not contain other DN components than required or optional by by adding the checks called <i class=" ">CertCheck_SubjectDNComponents_allowed</i> and <i class=" ">CertCheck_IssuerDNComponents_allowed</i> and configure it with the list of allowed DN components, that is both the required and optional ones.</p>
</li><li class=" "><p   
>Verifying that the certificate contains the specified values for DN components that must be the same, i.e. O=PrimeKey,C=SE, by adding the checks called <i class=" ">CertCheck_SubjectDNComponents_specified</i> and <i class=" ">CertCheck_IssuerDNComponents_specified</i> and specify the DN parts or add the checks <i class=" ">CertCheck_SubjectDNComponents_identical</i> and <i class=" ">CertCheck_IssuerDNComponents_identical</i> to require the values of the specified DN components to be identical to those in the template certificate.</p>
</li><li class=" "><p   
>Verifying that the validity end date is at least a configurable number of hours in the future by adding the check called <i class=" ">CertCheck_ValidityNotAfter_minRemaining</i>.</p>
</li><li class=" "><p   
>Verifying that the validity end date is not more than a configurable number of hours in the future by adding the check called <i class=" ">CertCheck_ValidityNotAfter_maxRemaining</i>.</p>
</li><li class=" "><p   
>Verifying that the validity start date is not more than a configurable number of minutes from now by adding the check called <i class=" ">CertCheck_ValidityNotBefore_maxDiffFromNow</i>.</p>
</li><li class=" "><p   
>Verifying that the public key specification (ie. key length for RSA) is the same as in the template by adding the check called <i class=" ">CertCheck_PublicKey_sizeEquals</i>.</p>
</li><li class=" "><p   
>Verifying that the public key algorithm is the same as in the template by adding the check called <i class=" ">CertCheck_PublicKey_algorithmEquals</i>.</p>
</li><li class=" "><p   
>Verifying that the signature algorithm is the same as in the template by adding the check called <i class=" ">CertCheck_Signature_algorithmEquals</i>.</p>
</li><li class=" "><p   
>Verifying that the same extensions are used in the certificate as in the template and that they have the same criticality but not necessarily the same value by adding the checks called <i class=" ">CertCheck_Extensions_criticalOIDs</i> and <i class=" ">CertCheck_Extensions_nonCriticalOIDs</i></p>
</li><li class=" "><p   
>Verifying the extensions that are configured to be identical by adding the check <i class=" ">CertCheck_Extensions_identical</i> which compares the DER encoded values of the extensions in the certificate with those in the template.</p>
</li><li class=" "><p   
>Verifying that the subject and issuer DN are in the correct order by adding the checks called <i class=" ">SubjectDNOrder_specified</i> and <i class=" ">IssuerDNOrder_specified</i> and specify the order of the DN components.</p>
</li><li class=" "><p   
>The tool runs as long as there are certificate files in the configured directory. When a file is analyzed, then the output is written to log files and the analyzed file is deleted. When there are no more certificate files in the configured directory, the application sleeps for a while (as configured) before checking if there are some more certificates to validate.</p>
</li><li class=" "><p   
>To make it less likely a certificate file is being analyzed before it has been completely written to disk new files will not be read until their last modified time is more than configured time in the past (for instance 2 seconds).</p>
</li></ul><p   
></p>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Validation_Tool_Configuration.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Validation Tool Configuration</span>
        </a>
                <a href="EJBCA_Batch_Enrollment_GUI.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>EJBCA Batch Enrollment GUI</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

</body>
</html>
