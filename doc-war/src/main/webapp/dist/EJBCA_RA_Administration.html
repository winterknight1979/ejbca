<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>EJBCA RA Administration - EJBCA - Documentation Space</title>

    
            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="85921598">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_6.15.2.6_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=16229064"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_6.15.2.6_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Documentation.html">EJBCA Documentation</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_Operations.html">EJBCA Operations</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_User_Guide.html">EJBCA User Guide</a></li>
                                                                                     <li><a href="EJBCA_RA_Management.html">EJBCA RA Management</a></li>
                                                            </ul>
</div>            <h1 id="src-16229064"> <span>EJBCA RA Administration</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
>This guide describes EJBCA RA Administration tasks in the following sections <a   href="#src-16229064_id-.EJBCARAAdministrationv6.13.0-UserAuthorization">User Authorization</a> and <a   href="#src-16229064_id-.EJBCARAAdministrationv6.13.0-SampleConfiguration">Sample Configuration</a>.</p>
    <div class="section section-1" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-UserAuthorization">
        <h1 class="heading "><span>User Authorization</span></h1>
<p   
>To be authorized to use the RA, both the peer connection role (in case the RA runs as an external service) and the User/Admin role must be configured to allow access to the desired functionality. The following describes how the authorization works for the built-in role templates.</p>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-CAAdministrators">
        <h2 class="heading "><span>CA Administrators </span></h2>
<p   
>CA Administrators are granted access to all functionality in the RA, but only to the CAs that are selected in the administrator role. CAs and related end entities and certificates, will be hidden if the administrator does not have access.</p>
    </div>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-RAAdministrators">
        <h2 class="heading "><span>RA Administrators</span></h2>
<p   
>RA Administrators have access to the Enrollment, Search and Manage Requests pages, depending on the selected End Entity Rules. Access is restricted according to the selected CAs and end entity profiles as well. In order to make a certificate request, the administrator needs both <strong class=" ">Create End Entities</strong>, <strong class=" ">View End Entities</strong> and <strong class=" ">Delete End Entities</strong> access. Permission to approve or reject a request is controlled by the approval profile, but certificate requests and requests to edit end entities additionally require the <strong class=" ">Approve End Entity</strong> access. The end entity search require <strong class=" ">View End Entity</strong> access. The certificate search require <strong class=" ">View Certificate</strong> access.</p>
    </div>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-Supervisors">
        <h2 class="heading "><span>Supervisors</span></h2>
<p   
>Supervisors have access to the <strong class=" ">Manage Requests</strong> and <strong class=" ">Search</strong> pages only, in read-only mode.</p>
    </div>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-Auditors">
        <h2 class="heading "><span>Auditors</span></h2>
<p   
>Auditors have access to everything in read-only mode, except for the Enrollment page which is not accessible.</p>
    </div>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-AccessRules">
        <h2 class="heading "><span>Access Rules</span></h2>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>Note that, in addition to the role configuration, the <strong class=" ">Enforce</strong> settings in the CA also control when certificates may be issued. Since the RA always creates a new end-entity for each request, this means that in order for renewal<strong class=" "> </strong>of certificates to work, the <strong class=" ">Enforce unique public keys</strong> and <strong class=" ">Enforce unique DN</strong> options must be disabled.</p>
        </div>
    </div>
<p   
>If you configure the access rules in Advanced Mode (that is, not using the role templates), you need the following access rules (listed per menu item). You also need access to any related CAs and End Entity Profiles, including all CAs referenced by the End Entity Profiles.</p>
    <div class="section section-3" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-Enrollment">
        <h3 class="heading "><span>Enrollment</span></h3>
<pre class=" ">/ca_functionality/create_certificate/<br/>/ra_functionality/view_end_entity/<br/>/ra_functionality/create_end_entity/<br/>/ra_functionality/delete_end_entity/<br/>/ca/.../<br/>/endentityprofilesrules/.../view_end_entity/<br/>/endentityprofilesrules/.../create_end_entity/<br/>/endentityprofilesrules/.../delete_end_entity/</pre><p   
>If using a version prior to EJBCA 6.8.0, you also need the following rules to create certificates through the RA. These are not needed in EJBCA 6.8.0 and later.</p>
<pre class=" ">/ra_functionality/edit_end_entity/<br/>/endentityprofilesrules/.../edit_end_entity/</pre>    </div>
    <div class="section section-3" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-CertificateandEndEntitySearch">
        <h3 class="heading "><span>Certificate and End Entity Search</span></h3>
<pre class=" ">/ra_functionality/view_end_entity/<br/>/ca_functionality/view_certificate/<br/>/ca/.../<br/>/endentityprofilesrules/.../view_end_entity/</pre><p   
>Additionally, if the role should be allowed to revoke certificates, the following rule is needed:</p>
<pre class=" ">/ra_functionality/revoke_end_entity/</pre>    </div>
    <div class="section section-3" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-ManageRequests">
        <h3 class="heading "><span>Manage Requests</span></h3>
<pre class=" ">/endentityprofilesrules/.../approve_end_entity/</pre><p   
>And at least one of the following rules:</p>
<pre class=" ">/ra_functionality/approve_end_entity/ - to approve certificate requests and end entity operations<br/>/ca_functionality/approve_caaction/ - to approve other operations<br/>/secureaudit/auditor/select/ - to see requests without being able to approve them</pre>    </div>
    <div class="section section-3" id="src-16229064_safe-id-aWQtLkVKQkNBUkFBZG1pbmlzdHJhdGlvbnY2LjEzLjAtQ0FzJkNSTHM">
        <h3 class="heading "><span>CAs &amp; CRLs</span></h3>
<pre class=" ">/ca_functionality/view_ca/<br/>/ca/.../</pre>    </div>
    <div class="section section-3" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-RoleManagement">
        <h3 class="heading "><span>Role Management</span></h3>
<pre class=" ">/system_functionality/edit_administrator_privileges/<br/>/system_functionality/view_administrator_privileges/</pre>    </div>
    <div class="section section-3" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-KeyRecovery">
        <h3 class="heading "><span>Key Recovery</span></h3>
<pre class=" ">/ra_functionality/keyrecovery/<br/>/ca/.../<br/>/endentityprofilesrules/.../keyrecovery/</pre>    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>Note that RA does not support Decline rules. If a role that has a Decline rule is used on the RA, it will be denied access to everything as a security precaution.</p>
        </div>
    </div>
<p   
></p>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-SampleConfiguration">
        <h1 class="heading "><span>Sample Configuration</span></h1>
<p   
>Follow this example configuration to create one <strong class=" ">RA User</strong> that can request certificates (needing Approval) and one <strong class=" ">RA Admin</strong> that can approve the requests.</p>
<p   
>It is assumed that you already have a CA (named <strong class=" ">High Assurance CA</strong>), a Certificate Profile (named <strong class=" ">EV TLS</strong>), and an End Entity Profile (also named <strong class=" ">EV TLS</strong>), where the profiles are set to issue from that CA.</p>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-CreateRoles">
        <h2 class="heading "><span>Create Roles</span></h2>
<p   
>To set up approvals, you need two roles that will be part of the approval process.</p>
<ol class=" "><li class=" "><p   
>In the Admin GUI on the CA, go to <strong class=" ">Administrator Roles</strong>.</p>
</li><li class=" "><p   
>Add a role called <strong class=" ">RA User</strong><i class=" ">.</i></p>
</li><li class=" "><p   
>Add a role called <strong class=" ">RA Admin</strong><i class=" ">.</i></p>
</li><li class=" "><p   
>Edit Access Rules for <strong class=" ">RA User</strong> in <strong class=" ">Custom &gt; Advanced Mode</strong>.<strong class=" "><br/></strong>/ca_functionality/create_certificate/<br/>/ra_functionality/view_end_entity/<br/>/ra_functionality/create_end_entity/<br/>/ra_functionality/delete_end_entity/<br/>/ca/High Assurance CA/<br/>/endentityprofilesrules/EV TLS/view_end_entity/<br/>/endentityprofilesrules/EV TLS/create_end_entity/<br/>/endentityprofilesrules/EV TLS/delete_end_entity/<strong class=" "><br/></strong></p>
</li><li class=" "><p   
>Click <strong class=" ">Save</strong></p>
</li><li class=" "><p   
>Edit Access Rules for <strong class=" ">RA </strong><strong class=" "><strong class=" ">Admin</strong>:<br/></strong></p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Template:</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>RA Administrator</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Authorized CAs:</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>High Assurance CA</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>End Entity Rules:</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>all</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>End Entity Profiles:</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>EV TLS</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Other rules:</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>none</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
</li><li class=" "><p   
>Click <strong class=" ">Save</strong>.</p>
</li><li class=" "><p   
>Now add some users to the <strong class=" ">RA User</strong> and <strong class=" ">RA Admin</strong> roles.</p>
</li></ol>    <div class="section section-3" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-RAWebRoleManagement">
        <h3 class="heading "><span>RA Web Role Management</span></h3>
<p   
><i class=" ">Optionally</i>, the <strong class=" ">RA User</strong> role can be setup from the RA Web which is convenient if the logged in administrator does not have access to the CA (for example from an external RA). Using Role Management in the RA requires <strong class=" ">Role Management</strong> privileges (see <a   href="#src-16229064_id-.EJBCARAAdministrationv6.13.0-RoleManagement">Role Management</a>).</p>
<ol class=" "><li class=" "><p   
>Go to the RA Web (    <span style="color: #003366;">
    <span style="color: #003366;">
https://[yourdomain]:8443/ejbca/ra    </span>
    </span>
).</p>
</li><li class=" "><p   
>Navigate to <strong class=" ">Role Management &gt; Roles</strong>.</p>
</li><li class=" "><p   
>Click <strong class=" ">Create New Role</strong>.</p>
</li><li class=" "><p   
>In the <strong class=" ">Available</strong> panel, select <strong class=" ">High Assurance CA</strong> and click <strong class=" ">Add</strong>.</p>
</li><li class=" "><p   
>Select the <strong class=" ">End Entity Permissions</strong> options <strong class=" ">Create and delete end entities</strong> and <strong class=" ">View end entities</strong>.</p>
</li><li class=" "><p   
>Under <strong class=" ">End entity profiles</strong>, select <strong class=" ">EV TLS</strong> and click <strong class=" ">Add</strong>.</p>
</li><li class=" "><p   
>Click <strong class=" ">Add</strong> at the bottom of the page.</p>
</li></ol><p   
>The role <strong class=" ">RA User</strong> is added with the corresponding access rules available in the Admin GUI.</p>
    </div>
    </div>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-CreateanApprovalProfile">
        <h2 class="heading "><span>Create an Approval Profile</span></h2>
<p   
>To configure the system to require approvals for issuing certain certificates, you need to create an Approval Profile.</p>
<p   
>Note that the approval system stores the role privileges per request. As a result, if you change roles in an Approval Profile, you need to make a new request for the new role attributes to be applied. Old requests will live after the rules set up when those requests were made.</p>
    <div class="section section-3" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-CreateanApprovalProfilewithtwoparts">
        <h3 class="heading "><span>Create an Approval Profile with two parts</span></h3>
<p   
>To create one part for verifying the evidence:</p>
<ol class=" "><li class=" "><p   
>In the Admin GUI on the CA, go to <strong class=" ">Approval Profiles.</strong></p>
</li><li class=" "><p   
>Enter <strong class=" ">EV TLS Approval</strong> and click <strong class=" ">Add.</strong></p>
</li><li class=" "><p   
>Click <strong class=" ">Edit</strong> for <strong class=" ">EV TLS Approval.</strong></p>
</li><li class=" "><p   
>Change <strong class=" ">Approval Profile Type</strong> to <strong class=" ">Partitioned Approva</strong>l.</p>
</li><li class=" "><p   
>In the first partition: Select <strong class=" ">RA Admin</strong> as <strong class=" ">Roles which may approve this partition.</strong></p>
</li><li class=" "><p   
>In the first partition: Select <strong class=" ">Anybody</strong> as <strong class=" ">Roles which may view this partition.</strong></p>
</li><li class=" "><p   
>In the first partition: Add a checkbox called <strong class=" ">Verified Evidence.</strong></p>
</li><li class=" "><p   
>In the first partition: Add a textfield called <strong class=" ">Path to evidence.</strong></p>
</li><li class=" "><p   
>Enter <strong class=" ">Evidence</strong> in the name field of the first partition.</p>
</li><li class=" "><p   
>Click <strong class=" ">Save.</strong></p>
</li></ol><p   
>To create another part for verifying the payment:</p>
<ol class=" "><li class=" "><p   
>In the Admin GUI on the CA, go to <strong class=" ">Approval Profiles.</strong></p>
</li><li class=" "><p   
>Click <strong class=" ">Edit</strong> for <strong class=" ">EV TLS Approval.</strong></p>
</li><li class=" "><p   
>Click <strong class=" ">Add Partition.</strong></p>
</li><li class=" "><p   
>Change <strong class=" ">Approval Profile Type</strong> to <strong class=" ">Partitioned Approval.</strong></p>
</li><li class=" "><p   
>In the second partition: Select <strong class=" ">RA Admin</strong> as <strong class=" ">Roles which may approve this partition.</strong></p>
</li><li class=" "><p   
>In the second partition: Select <strong class=" ">Anybody</strong> as <strong class=" ">Roles which may view this partition.</strong></p>
</li><li class=" "><p   
>In the second partition: Add a checkbox called <strong class=" ">Verified payment.</strong></p>
</li><li class=" "><p   
>In the second partition: Add a radiobutton called <strong class=" ">Payment method</strong> and add the rows <strong class=" ">Credit card</strong> and <strong class=" ">Invoice.</strong></p>
</li><li class=" "><p   
>In the second partition: Add a textfield called <strong class=" ">Path to receipt.</strong></p>
</li><li class=" "><p   
>Enter <strong class=" ">Payment</strong> in the name field of the second partition.</p>
</li><li class=" "><p   
>Click <strong class=" ">Save.</strong></p>
</li></ol>    </div>
    </div>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-ConfigureCertificateProfiletouseApprovalProfile">
        <h2 class="heading "><span>Configure Certificate Profile to use Approval Profile</span></h2>
<p   
>You also need to configure the Certificate Profile to use the Approval Profile.</p>
<ol class=" "><li class=" "><p   
>In the Admin GUI on the CA, go to <strong class=" ">Certificate Profiles</strong>.</p>
</li><li class=" "><p   
>Click <strong class=" ">Edit</strong> for <strong class=" ">EV TLS</strong>.</p>
</li><li class=" "><p   
>Under <strong class=" ">Approval Settings</strong>, select <strong class=" ">Add/Edit End Entity</strong>, <strong class=" ">Revocation</strong> and <strong class=" ">Key Recovery</strong></p>
</li><li class=" "><p   
>For <strong class=" ">Approval Profiles</strong>, select the newly created <strong class=" ">EV TLS Approval.</strong></p>
</li><li class=" "><p   
>Click <strong class=" ">Save.</strong></p>
</li></ol>    </div>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-EmailNotifications">
        <h2 class="heading "><span>Email Notifications</span></h2>
<p   
>You can configure email notifications for both RA Admins and RA Users with information on when a request have been created or changed, and including links to approve or checking status. Notification configurations can for example be specified in End Entity Profiles and in Approval Profiles. For more information on available parameters, see the <a   href="E-mail_Notifications.html">E-mail Notifications</a> section.</p>
    </div>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-RequestCertificates">
        <h2 class="heading "><span>Request Certificates</span></h2>
<p   
>Start a new browser session and access the RA at https://localhost:8443/ejbca/ra/. You should now be able to request certificates using the function in <strong class=" ">Enroll &gt; Make New Request</strong>.<br/>The information displayed is depending on the RA User's access, for example if one or more profiles or CAs are available to the user. When there is only one choice available and thus no selection to be made, the option is not displayed on the page and thus a limited configuration results in an easy to use request page.</p>
<p   
>When you have created a request, you will be presented with a message that your request has been submitted for approval, and given a Request ID so you can follow the status of your request.</p>
    </div>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-ApprovingRequests">
        <h2 class="heading "><span>Approving Requests</span></h2>
<p   
>Start a new browser session and access the RA again as <strong class=" ">RA Admin</strong>. You should now have to option to <strong class=" ">Manage Requests</strong>. Here you can view, approve or reject requests. Requests can also be edited and once a request has been updated it has to be approved by another administrator as you are not allowed to approve your own edits.</p>
    </div>
    <div class="section section-2" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-EnablingKeyRecovery">
        <h2 class="heading "><span>Enabling Key Recovery</span></h2>
<p   
>To perform key recovery for user, key recovery has to be enabled in EJBCA System Configuration. To activate key recovery:</p>
<ol class=" "><li class=" "><p   
>In the Admin GUI on the CA, go to <strong class=" ">System Configuration</strong>.</p>
</li><li class=" "><p   
>On the <strong class=" ">Basic Configuration</strong> tab, for Enable Key Recovery, select <strong class=" ">Activate [x]</strong></p>
</li></ol><p   
>Additionally, the end entity profile used to create the end entity, requires key recovery to be enabled.</p>
    <div class="section section-3" id="src-16229064_id-.EJBCARAAdministrationv6.13.0-UsingLocalKeyGeneration">
        <h3 class="heading "><span>Using Local Key Generation</span></h3>
<p   
>Local key generation is used when the key recovery data (encrypted key pair) is to be stored on an external RA rather than the CA. For more information, see the <a   href="Key_Recovery.html">Key Recovery</a> section.</p>
<p   
>To activate local key generation, do the following.</p>
<ol class=" "><li class=" "><p   
>In the Admin GUI on the <strong class=" ">external RA</strong>, go to <strong class=" ">System Configuration</strong>.</p>
</li><li class=" "><p   
>On the tab <strong class=" ">Basic Configuration</strong>, for Enable Key Recovery, select <strong class=" ">Activate [x]</strong> and <strong class=" ">Force Local Key Generation [x]</strong>.</p>
</li><li class=" "><p   
>Select a crypto token for encryption of the key pairs (the crypto token must be created and activated before this step).</p>
</li><li class=" "><p   
>Select a crypto token key.</p>
</li></ol>    </div>
    </div>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="EJBCA_RA_Management.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>EJBCA RA Management</span>
        </a>
                <a href="Custom_RA_Stylesheets.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Custom RA Stylesheets</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

</body>
</html>
