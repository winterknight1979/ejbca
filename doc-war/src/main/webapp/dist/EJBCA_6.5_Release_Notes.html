<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>EJBCA 6.5 Release Notes - EJBCA - Documentation Space</title>

    
            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="85921598">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_6.15.2.6_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=16225806"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_6.15.2.6_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Release_Information.html">EJBCA Release Information</a></li>
                                                                                     <li><a href="EJBCA_Release_Notes.html">EJBCA Release Notes</a></li>
                                                            </ul>
</div>            <h1 id="src-16225806"> <span>EJBCA 6.5 Release Notes</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
>The PrimeKey EJBCA team is pleased to announce the feature release EJBCA 6.5.</p>
<p   
>The following covers information on new features and improvements in the 6.5.0 releases:</p>
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0">EJBCA 6.5.0</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0.1">EJBCA 6.5.0.1</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0.2">EJBCA 6.5.0.2</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0.3">EJBCA 6.5.0.3</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0.4">EJBCA 6.5.0.4</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0.5">EJBCA 6.5.0.5</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.1">EJBCA 6.5.1</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.2">EJBCA 6.5.2</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.3">EJBCA 6.5.3</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.4">EJBCA 6.5.4</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_safe-id-aWQtLkVKQkNBNi41UmVsZWFzZU5vdGVzdjYuMTIuMC1DaGFuZ2VMb2c6UmVzb2x2ZWRJc3N1ZXM">Change Log: Resolved Issues</a></p>
</li></ul><p   
>Read the <a   href="EJBCA_6.5_Upgrade_Notes.html">EJBCA 6.5 Upgrade Notes</a> for important information about this release. For upgrade instructions and information on upgrade paths, see <a   href="Upgrading_EJBCA.html">Upgrading EJBCA</a>.</p>
    <div class="section section-1" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0">
        <h1 class="heading "><span>EJBCA 6.5.0</span></h1>
<hr>
<p   
>This release has primarily focused on tuning up the UI and responding to security developments in the Java EE world in the last few months. We've shifted plenty of focus to QA during this period, so this version is the most stable we've released yet.</p>
<p   
><strong class=" ">Administration UI</strong></p>
<ul class=" "><li class=" "><p   
>Certificate profiles can now be set to restrict key algorithms, curves (for EC) and key length.</p>
</li><li class=" "><p   
>The CSCA &quot;CA Name Change&quot; feature from ICAO 9303 7th part 12 has been implemented.</p>
</li><li class=" "><p   
>Removed a possible XML exploit from the administration web.</p>
</li><li class=" "><p   
>Deserialization has been significantly hardened.</p>
</li><li class=" "><p   
>Fixed a possible information leakage in the administrative web in regards to certificate and end entity profiles.</p>
</li><li class=" "><p   
>Auditor default role has been given access to additional pages in the UI.</p>
</li></ul><p   
><strong class=" ">General Cryptography</strong></p>
<ul class=" "><li class=" "><p   
>The underlying BouncyCastle library has been upgraded to version 1.54</p>
</li></ul><p   
><strong class=" ">Documentation</strong></p>
<ul class=" "><li class=" "><p   
>All return and error codes from the CMP servlet have been documented.</p>
</li></ul><p   
><strong class=" ">OCSP</strong></p>
<ul class=" "><li class=" "><p   
>OCSP responder can now cache the revocation status of client certificates (used to sign requests) for limited time periods.</p>
</li></ul><p   
><strong class=" ">External RA</strong></p>
<ul class=" "><li class=" "><p   
>CMP Proxy now checks for message signatures, HMAC and checks revocation status for signing certificates, relieving the CA of handling unauthorized messages.</p>
</li></ul><p   
><strong class=" ">Certificate Transparency</strong></p>
<ul class=" "><li class=" "><p   
>CT logs can now be submitted to log servers in parallel.</p>
</li></ul><p   
>Read the full change log for details, and see the UPGRADE document for all functionality changes and upgrade instructions.</p>
<p   
><strong class=" ">A selection of known issues</strong></p>
<ul class=" "><li class=" "><p   
>One test failure on DB2: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-3298">ECA-3298</a></p>
</li><li class=" "><p   
>End entity profiles can't be deleted in high volume databases: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4158">ECA-4158</a></p>
</li><li class=" "><p   
>Some ECDSA key specifiers missing in drop down menu for crypto tokens using PKCS#11 after JDK update: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4251">ECA-4251</a></p>
</li><li class=" "><p   
>Race condition when multiple RA threads are requesting certificates for the same user: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4347">ECA-4347</a></p>
</li></ul>    </div>
    <div class="section section-1" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0.1">
        <h1 class="heading "><span>EJBCA 6.5.0.1</span></h1>
<hr>
<p   
>Patch release for <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4862">ECA-4862</a></p>
    </div>
    <div class="section section-1" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0.2">
        <h1 class="heading "><span>EJBCA 6.5.0.2</span></h1>
<hr>
<p   
>Patch release for <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4860">ECA-4860</a></p>
    </div>
    <div class="section section-1" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0.3">
        <h1 class="heading "><span>EJBCA 6.5.0.3</span></h1>
<hr>
<p   
>Patch release for ECA-4931 and ECA-4955</p>
    </div>
    <div class="section section-1" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0.4">
        <h1 class="heading "><span>EJBCA 6.5.0.4</span></h1>
<hr>
<p   
>Patch release for pages broken in WildFly 10 and post-upgrade in EJBCA Community.</p>
    </div>
    <div class="section section-1" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.0.5">
        <h1 class="heading "><span>EJBCA 6.5.0.5</span></h1>
<hr>
<p   
>Patch release for a few issues during upgrade from EJBCA 4.0, and a contributed patch for script based auto enrollment.</p>
    </div>
    <div class="section section-1" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.1">
        <h1 class="heading "><span>EJBCA 6.5.1</span></h1>
<p   
>Spring is in the air, and we here at PrimeKey are busy working on a very exciting new feature to be released with EJBCA 6.6.0 in Q3 of 2016.</p>
<p   
>Meanwhile, we've also been hard at work shoring up and fixing bugs in our 6.5 branch, ever intent in making sure that bugs get squashed faster than they can appear. All in all, we've fixed 35 bugs and improvements for this minor release.</p>
<p   
><strong class=" ">Administration UI</strong></p>
<ul class=" "><li class=" "><p   
>A minor information leakage, to the client, of preset end entity password was patched up.</p>
</li><li class=" "><p   
>Due to hardening implemented in 6.5.0, CertificatePolicy objects were omitted from being imported with certificate profiles. This has been rectified.</p>
</li><li class=" "><p   
>Several pages that didn't render correctly in WildFly 10 have been fixed.</p>
</li></ul><p   
><strong class=" ">Log Export</strong></p>
<ul class=" "><li class=" "><p   
>A regression was fixed in the CmsCaService due to the signing key alias for CA's being changed in EJBCA 6.4.1/6.5.0</p>
</li></ul><p   
><strong class=" ">CMP</strong></p>
<ul class=" "><li class=" "><p   
>Due to a change in how End Entity Profile references to CMP aliases are saved, the deprecated method of setting the EEP to &quot;KeyID&quot; to support CMP Unid (which hasn't been possible since 6.0.0) is no longer supported. This will be rectified in a future release.</p>
</li></ul><p   
><strong class=" ">External RA</strong></p>
<ul class=" "><li class=" "><p   
>A caching bug in the CMP Proxy was fixed</p>
</li><li class=" "><p   
>The CMP Proxy message signer chain and issuer chain were mistakenly implemented as one and the same in 6.5.0.</p>
</li></ul><p   
><strong class=" ">OCSP</strong></p>
<ul class=" "><li class=" "><p   
>The optional Nonce sent in OCSP requests has been limited to 32 bytes to counter potential future issues. A request containing a Nonce larger than 32 bytes will now result in an error returned from the OCSP server.</p>
</li></ul><p   
><strong class=" ">A selection of known issues</strong></p>
<ul class=" "><li class=" "><p   
>One test failure on DB2: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-3298">ECA-3298</a></p>
</li><li class=" "><p   
>End entity profiles can't be deleted in high volume databases: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4158">ECA-4158</a></p>
</li><li class=" "><p   
>Some ECDSA key specifiers missing in drop down menu for crypto tokens using PKCS#11 after JDK update: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4251">ECA-4251</a></p>
</li><li class=" "><p   
>Race condition when multiple RA threads are requesting certificates for the same user: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4347">ECA-4347</a></p>
</li><li class=" "><p   
>ClientToolBox is unable to verify signature when testing more exotic EC keys in HSM: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4596">ECA-4596</a></p>
</li></ul>    </div>
    <div class="section section-1" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.2">
        <h1 class="heading "><span>EJBCA 6.5.2</span></h1>
<hr>
<p   
>Winter is coming they say, but in the PrimeKey offices in Stockholm it seems to be a far way away. While we're busy toiling away at our new feature set for this autumn, we're ever intent on making sure that the 6.5 branch of EJBCA is the best it can be in terms of stability and performance. This release makes EJBCA 6.5.2 fully eIDAS compliant, fixes a breakage in CMP introduced in 6.5.1, patches one minor security issue and fixes a slew of user input handling improvements in the UI. All in all, this release contains 18 bug fixes, features and improvements.</p>
<p   
><strong class=" ">Administration UI</strong></p>
<ul class=" "><li class=" "><p   
>A minor script injection vector has been plugged.</p>
</li><li class=" "><p   
>Administrators attempting to log in without having access to a Role (but having a valid certificate) will be audit logged as failed attempts.</p>
</li></ul><p   
><strong class=" ">CMP</strong></p>
<ul class=" "><li class=" "><p   
>A bug fix in 6.5.1 caused a major breakage in CMP.</p>
</li></ul><p   
><strong class=" ">eIDAS</strong></p>
<ul class=" "><li class=" "><p   
>Added the new ETSI DN attribute &quot;organizationIdentifier&quot;</p>
</li></ul><p   
><strong class=" ">OCSP</strong></p>
<ul class=" "><li class=" "><p   
>Certificates revoked by being under the Single Active Certificate Constraint certificate profile setting weren't published</p>
</li></ul><p   
><strong class=" ">A selection of known issues</strong></p>
<ul class=" "><li class=" "><p   
>One test failure on DB2: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-3298">CA-3298</a></p>
</li><li class=" "><p   
>End entity profiles can't be deleted in high volume databases: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4158">ECA-4158</a></p>
</li><li class=" "><p   
>Some ECDSA key specifiers missing in drop down menu for crypto tokens using PKCS#11 after JDK update: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4251">ECA-4251</a></p>
</li><li class=" "><p   
>Race condition when multiple RA threads are requesting certificates for the same user: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4347">ECA-4347</a></p>
</li><li class=" "><p   
>ClientToolBox is unable to verify signature when testing more exotic EC keys in HSM: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-4596">ECA-4596</a></p>
</li><li class=" "><p   
>Profiles export fail if hard tokens are enabled: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-5003">ECA-5003</a></p>
</li><li class=" "><p   
>Root access required to save system configuration: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-5005">ECA-5005</a></p>
</li><li class=" "><p   
>KeyBindings do not work if there's a CVC CA or uninitialized CA available: <a  class="external-link" href="https://jira.primekey.se/browse/ECA-5072">ECA-5072</a></p>
</li></ul>    </div>
    <div class="section section-1" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.3">
        <h1 class="heading "><span>EJBCA 6.5.3</span></h1>
<p   
>Just in time for Midsummer in Sweden, what's better on a holiday than deploying a new version of EJBCA? This release of EJBCA 6.5.3 adds a couple of security fixes, corrects a few bugs that hit a couple of rare cases, and improves the EJBCA Database CLI. Not to mention an updated Japanese translation.</p>
<p   
><strong class=" ">Security</strong></p>
<ul class=" "><li class=" "><p   
>Fix two security issues, and tighten a couple of cases that could cause unnecessary load.</p>
</li></ul><p   
><strong class=" ">CMP</strong></p>
<ul class=" "><li class=" "><p   
>If issuing using CMP, using the Single Active Certificate Constraint, and OCSP publishing, the revocations were not published to OCSP.</p>
</li></ul><p   
><strong class=" ">CLI</strong></p>
<ul class=" "><li class=" "><p   
>Improve the ejbca-db-cli verify command to be more flexible and powerful, and fix a small documentation flaw in the regular EJBCA cli.</p>
</li></ul><p   
><strong class=" ">Administration UI</strong></p>
<ul class=" "><li class=" "><p   
>Update Japanese translation.</p>
</li></ul>    </div>
    <div class="section section-1" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.4">
        <h1 class="heading "><span>EJBCA 6.5.4</span></h1>
<hr>
<p   
>An autumn patch release to the so far stable EJBCA 6.5 branch, EJBCA 6.5.4 adds a few fixes to issues that showed up during production, as well as two new features and a couple of improvements.</p>
<p   
><strong class=" ">Features</strong></p>
<ul class=" "><li class=" "><p   
>Support for RegisteredID in subject alternative name.</p>
</li><li class=" "><p   
>Ability to use variables in email subject for email expiration services.</p>
</li></ul><p   
><strong class=" ">Improvement: ICAO CSCA</strong></p>
<ul class=" "><li class=" "><p   
>Issuer altName is now automatically set when creating a new Root CA.</p>
</li></ul><p   
><strong class=" ">Improvement: OCSP</strong></p>
<ul class=" "><li class=" "><p   
>When CA certificates are revoked, OCSP responder will respond revoked for leaf certificates only if CA revocation reason indicates a CA compromise.</p>
</li></ul><p   
><strong class=" ">Bugs</strong></p>
<ul class=" "><li class=" "><p   
>CMP revocation requests failed CA authorization, if issuer CA had X.500 ordering.</p>
</li><li class=" "><p   
>clientToolbox did not start when using PKCS#11 and there was no JAVA_HOME set.</p>
</li><li class=" "><p   
>Verification of database integrity protection did not work for custom certificate extensions.</p>
</li></ul>    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.5">
        <h2 class="heading "><span>EJBCA 6.5.5</span></h2>
<hr>
<p   
>EJBCA 6.5.5 is a patch release fixing one bug and making one improvement. These fixes mostly facilitates OCSP operations under certain circumstances.</p>
<ul class=" "><li class=" "><p   
>Update of imported CA certificate is not persisted to the CertificateData table.</p>
</li><li class=" "><p   
>Internal Key Binding: certificate import should not use the current CA certificate if public key does not match.</p>
</li></ul>    </div>
    </div>
    <div class="section section-1" id="src-16225806_safe-id-aWQtLkVKQkNBNi41UmVsZWFzZU5vdGVzdjYuMTIuMC1DaGFuZ2VMb2c6UmVzb2x2ZWRJc3N1ZXM">
        <h1 class="heading "><span>Change Log: Resolved Issues</span></h1>
<p   
>For full details of fixed bugs and implemented features in EJBCA 6.5.x, refer to our <a  class="external-link" href="https://jira.primekey.se/issues/?jql=project%20%3D%20ECA%20AND%20resolution%20in%20(Fixed%2C%20Done)%20AND%20fixVersion%20in%20(%22EJBCA%206.5.0%22%2C%20%22EJBCA%206.5.0.1%22%2C%20%22EJBCA%206.5.0.2%22%2C%20%22EJBCA%206.5.0.3%22%2C%20%22EJBCA%206.5.0.4%22%2C%20%22EJBCA%206.5.0.5%22%2C%20%22EJBCA%206.5.0.6%22%2C%20%22EJBCA%206.5.1%22%2C%20%22EJBCA%206.5.1.1%22%2C%20%22EJBCA%206.5.2%22%2C%20%22EJBCA%206.5.2.1%22%2C%20%22EJBCA%206.5.2.2%22%2C%20%22EJBCA%206.5.3%22%2C%20%22EJBCA%206.5.4%22%2C%20%22EJBCA%206.5.5%22%2C%20%22EJBCA%206.5.5.1%22)%20ORDER%20BY%20fixVersion%20DESC%2C%20resolution%20DESC">JIRA Issue Tracker</a>.</p>
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-EJBCA6.5.5">EJBCA 6.5.5</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0">Issues Resolved in 6.5.0</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0.1">Issues Resolved in 6.5.0.1</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0.2">Issues Resolved in 6.5.0.2</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0.3">Issues Resolved in 6.5.0.3</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0.4">Issues Resolved in 6.5.0.4</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0.5">Issues Resolved in 6.5.0.5</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.1">Issues Resolved in 6.5.1</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.2">Issues Resolved in 6.5.2</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.3">Issues Resolved in 6.5.3</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.4">Issues Resolved in 6.5.4</a></p>
</li><li class=" "><p   
><a   href="#src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.5">Issues Resolved in 6.5.5</a></p>
</li></ul>    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0">
        <h2 class="heading "><span>Issues Resolved in 6.5.0</span></h2>
<p   
>Released on 29 February 2016</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-3897] - Unrevoked certificates do not appear on delta CRLs<br/>[ECA-4549] - In Basic Access Rules, 'All' is listed last in the list of CAs<br/>[ECA-4596] - ClientToolBox is unable to verify signature when testing more exotic EC keys in HSM<br/>[ECA-4647] - Basic Access Rules: Pre-selected end entity rules for RAAdmin role template do not correspond to actual rules.<br/>[ECA-4834] - Security hardening<br/>[ECA-4856] - Security Hardening<br/>[ECA-4858] - Confusing audit log message when reactivating a crypto token<br/>[ECA-4860] - CryptoToken Id not updated when importing a statedump with the merge option<br/>[ECA-4862] - CmpMessageHelper.createUnprotectedErrorMessage throws an NPE if a nonce is not included in the CMP message<br/>[ECA-4872] - System configuration page broken in WildFly 10<br/>[ECA-4877] - CertTools.isCertificateValid logs cert serno in decimal instead of hex<br/>[ECA-4882] - CMP Proxy: Message signer chain should have its own configuration key in cmpProxy.properties<br/>[ECA-4883] - CMP Proxy: NPE when the right CA certificate is not found<br/>[ECA-4884] - Reference to Hudson in code when deploying ant<br/>[ECA-4885] - Key recovery requires 'Edit End Entities'-rights<br/>[ECA-4889] - Change all references from &quot;Enrolment&quot; to &quot;Enrollment&quot;<br/>[ECA-4892] - Clearing caches fails locally if clearing the cache on any clustered nodes fails as well.<br/>[ECA-4893] - CMP Proxy: Revocation status cache is read incorrectly<br/>[ECA-4915] - SecureXMLDecoder can't deserialize all standard types<br/>[ECA-4923] - ClientToolBox is missing lib/ejbca-ws.jar dependency<br/>[ECA-4925] - Old version of cert-cvc still under lib<br/>[ECA-4928] - CMP Proxy Servlet doesn't properly handle messages with faulty ASN.1 syntax<br/>[ECA-4929] - Sample code not updated after refactorings<br/>[ECA-4930] - Left-over old generated web services sources<br/>[ECA-4931] - Minor security issue<br/>[ECA-4945] - Edit admin entities broken in WildFly 10<br/>[ECA-4955] - CMP Proxy swallows underlying error message when verifying certificate path<br/>[ECA-4956] - Regression: Key alias in CMS CA service was changed so it can not be read after upgrade<br/>[ECA-4964] - NoClassDefFound in PeerConnectorServlet.destroy(), causes JBoss to freeze<br/>[ECA-4971] - Partial fix for handling InterruptedException correctly<br/>[ECA-4974] - Regression: SecureXMLDecoder doesn't allow import of CertificatePolicy objects<br/>[ECA-4988] - CMP Aliases can't handle that End Entity Profiles are renamed<br/>[ECA-4990] - CMP aliases can't handle CA removal<br/>[ECA-4992] - SHA256WithRSAAndMGF1 broken in some cases<br/>[ECA-4996] - Editing a CMP configuration while having limited access leads to hidden aliases being deleted<br/>[ECA-5003] - Profiles export fail if hard tokens are enabled.<br/>[ECA-5005] - Root access required to save system configuration<br/>[ECA-5072] - KeyBindings do not work if there's a CVC CA or uninitialized CA available<br/>[ECA-5098] - ApprovalProfile table breaks EJBCA DB CLI<br/>[ECA-5128] - Invoke postUpgrade instead of upgrade from placeholder<br/>[ECA-5165] - Access rule &quot;store_certificate&quot; is not used in the code<br/>[ECA-5185] - Regression: can not revoke user when user's registered CAId does not exist<br/>[ECA-5187] - languagefile.en.properties: correct different typings of ID<br/>[ECA-5193] - Fix broken jenkins test with non-serializable Keystore in RaMasterApi<br/>[ECA-5204] - RA enrollment: User doesn't get its request ID if RA is running on peer<br/>[ECA-5206] - CMP revocation requests fails CA authorisation if issuer CA has X.500 ordering<br/>[ECA-5213] - GUI bug in send notification, can not be set afterwards if set to required in profile<br/>[ECA-5216] - Checking requestId gives possibility to finalize even if it's not possible<br/>[ECA-5217] - WebService method checkRevokationStatus does not return null for non existing certificates as documented<br/>[ECA-5220] - Notification related fields show up on the approvals page<br/>[ECA-5224] - RA enrollment: Fix and improve the enrollment with approval buttons<br/>[ECA-5228] - Circular dependency between ApprovalProfileCacheBean and StartupSingletonBean<br/>[ECA-5232] - Adding approval profile metadata fields only works correctly for the final step<br/>[ECA-5234] - Store authentication token instead of admin cert serial number/issuer in approval requests<br/>[ECA-5236] - 'Hour' format in Advanced Mode for Search End Entities<br/>[ECA-5239] - GUI improvements to the Manage Request page<br/>[ECA-5244] - Cloning Approval Profiles ignores the new name and it's not possible to rename<br/>[ECA-5245] - NPE approving as another Admin in KaRA<br/>[ECA-5258] - RA enrollment: Support for enrolling PEM keystores<br/>[ECA-5260] - Occasional ConcurrentModificationException when re-deploying<br/>[ECA-5261] - Use id instead of approvalId as a Request ID<br/>[ECA-5262] - End Entity notifications when using approval always uses the requestAdmin, and not the approvalAdmin<br/>[ECA-5267] - RA enrollment: Unique Subject DN check is done after approval<br/>[ECA-5268] - Internal database constraint test audit logs certificate storage<br/>[ECA-5275] - Deleting Approval steps doesn't actually remove the step<br/>[ECA-5277] - Fix NPE when trying to list processed approvals in the RA<br/>[ECA-5278] - Handle approval editing in one step in ApprovalSessionBean, so the id can be preserved<br/>[ECA-5281] - EjbcaWSTest.test25CreateandGetCRL fails sporadically<br/>[ECA-5282] - Update &quot;previous steps&quot; in the RA approval page to handle partitions<br/>[ECA-5289] - Approval requests listing in the RA are never shown if older than the default validity (8 hours)<br/>[ECA-5293] - Regression: Manage Request page does not work over peers<br/>[ECA-5296] - Approval class has updated serialVersionUID<br/>[ECA-5297] - Number of remaining approvals is reset after upgrade<br/>[ECA-5298] - Fix Exceptions in RA GUI approvals<br/>[ECA-5299] - EjbcaWSTest.test03_5CertificateRequest fails with End Entity Profile limitations on<br/>[ECA-5305] - Regression: SecureXMLDecoder doesn't allow import of CTLog objects<br/>[ECA-5321] - JUnit: handle test case where we try to add non existing DN parameter to EE profile<br/>[ECA-5323] - Client toolbox start script not working for p11 when JAVA_HOME is set<br/>[ECA-5324] - NPE when trying to approve and the approval profile is to type Accumulative<br/>[ECA-5335] - KaRA: authorization cache is for ever, even with clear caches<br/>[ECA-5338] - External RA GUI should not bundle hibernate jar to deploy on WildFly 10<br/>[ECA-5342] - ui:repeat does not respect the &quot;rendered&quot; parameter on the RA Manage Request page, causing exceptions<br/>[ECA-5345] - KaRA: Manage Requests-&gt;Processed doesn't show anything<br/>[ECA-5346] - Name field does not work on Manage Request page<br/>[ECA-5347] - Java type inconsistencies in NameToIdMap<br/>[ECA-5349] - Not able to import statedump from EJBCA 6.5 into EJBCA 6.6<br/>[ECA-5350] - CA importcert CLI command should halt on error when no superadmincn is provided<br/>[ECA-5351] - statedump.sh script doesn't handle relative paths<br/>[ECA-5353] - Statedump source ziprelease includes .class files<br/>[ECA-5358] - KaRA: Text for 'Upload CSR' in RA GUI truncated<br/>[ECA-5363] - Headers are offset by one in Manage Requests view in mobile layout<br/>[ECA-5366] - Login link on public RA pages does not work<br/>[ECA-5367] - Edit End Entity requests show up with type = &quot;???&quot; in the RA<br/>[ECA-5375] - Enrollment from RA requires Edit End Entity access, instead of Add End Entity<br/>[ECA-5376] - Missing Administrator info in 'Waiting for Approval' section<br/>[ECA-5378] - Fix NPE when deleting the only step in an approval profile<br/>[ECA-5388] - OCSPResponseGenerator should use BC provider for signature verification<br/>[ECA-5391] - Wrong encoding of documentTypeList in ICAO 9303 DS certificates<br/>[ECA-5392] - ApprovalProfileBase.getSteps checks for null instead of empty<br/>[ECA-5403] - Improve messages in the RA Enrollment page<br/>[ECA-5411] - Email Notification parameters containing $ sign causes error<br/>[ECA-5414] - Systemtest failures with non JDK handled EC curves<br/>[ECA-5420] - Availability of EEPs in RA is cached session cached<br/>[ECA-5422] - Access rule misspelled in AdminCertReqServlet<br/>[ECA-5425] - Error codes of Peer Connectors does not work<br/>[ECA-5427] - NPE when doing direct issuance via RA<br/>[ECA-5431] - Typo in 'Notification Messages' under End Entity Profile page<br/>[ECA-5435] - Don't render Provide User Credentials section in RA when empty<br/>[ECA-5436] - Regression: Order of CT log might not be respected<br/>[ECA-5439] - Installation instructions don't work for Wildfly 10 / JBoss EAP 7.0 in some cases<br/>[ECA-5440] - Verification of database protection not working for Custom Certificate extensions<br/>[ECA-5441] - Statedump import failure for InternalKeyBinding<br/>[ECA-5454] - NPE in AdminGUI when the same admin approves a request a second time</p>
<p   
><strong class=" ">Improvement</strong><br/>[ECA-3959] - Editing end entity profile generates unnecessary INFO<br/>[ECA-4413] - Simplify EJB lookups in CAAdminSessionBean<br/>[ECA-4438] - Remove unused caid parameter in CA.createPKCS7Rollover<br/>[ECA-4499] - Allow longer SAN and DN by default<br/>[ECA-4673] - Downloading an non-existent delta-CRL on the public web leads to a 404<br/>[ECA-4690] - Replace deprecated references to org.bouncycastle.asn1.x509.SubjectPublicKeyInfo.SubjectPublicKeyInfo(ASN1Sequence)<br/>[ECA-4795] - External RA: NPE in external RA gui when externalra-gui.issuerchain points to a non existing file<br/>[ECA-4803] - Security hardening<br/>[ECA-4906] - Limit OCSP Nonce to 32 bytes<br/>[ECA-4914] - Don't throw RTE when checking for non-existing CryptoToken activation status<br/>[ECA-4932] - Exclude install properties files from ejbca.ear<br/>[ECA-4936] - ConcurrentCache: Improve performance<br/>[ECA-4947] - Resetting an end entity password after key recovery should not require 'Edit End Entities'-rights<br/>[ECA-4952] - Simplified X509CertificateAuthenticationToken constructor<br/>[ECA-4963] - Certificate Profiles: Keep sorting, but sort default profile types first.<br/>[ECA-4970] - Set secure flag on Admin GUI session cookie<br/>[ECA-4983] - ejbcajslib.js has unneeded comment chars<br/>[ECA-4987] - Set search.cgi welcome page for RFC 4387 CRL and certificate stores<br/>[ECA-4998] - Document that CMP Unid support currently isn't supported<br/>[ECA-5029] - Usability improvement, limit Policy User Notice text field to 200 characters<br/>[ECA-5044] - Security Improvement<br/>[ECA-5047] - Improve pom.xml for cert-cvc<br/>[ECA-5088] - Move all CRUD methods from ApprovalData into ApprovalSessionBean<br/>[ECA-5106] - Add database column for subjectAltNames (SAN) in CertificateData<br/>[ECA-5115] - Allow notifications to be sent when admin has an external certificate not available in the database<br/>[ECA-5130] - Fix some resource leaks and thread locking issues in source<br/>[ECA-5142] - Generalize and improve InternalKeyBindingProperty<br/>[ECA-5147] - MS SQL server support in External RA build task<br/>[ECA-5148] - Perform some cosmetic improvements to the approve action page<br/>[ECA-5160] - Have externalized Approvals initialize their authentication tokens<br/>[ECA-5168] - Improve system tests for application servers that enforce class loading<br/>[ECA-5192] - Don't show admin roles that can't approve or view approvals<br/>[ECA-5195] - RA Enrollment: Show password only with downloading keystore<br/>[ECA-5196] - RA Enrollment: Provide user with more verbose error message during token creation<br/>[ECA-5203] - RA enrollment: Add support for autogenerated passwords<br/>[ECA-5212] - Sort Approvals by Request Date by default<br/>[ECA-5214] - KaRA: creating end entity should set email notification when it is required<br/>[ECA-5215] - KaRA: PRA Error handling when not unique subject DN or public key<br/>[ECA-5226] - Improve exceptions handling over peers to support more than just a message<br/>[ECA-5241] - Improve RA API exception handling<br/>[ECA-5247] - Change which requests are shown under the Pending and Processed tabs<br/>[ECA-5257] - RA enrollment: Download Token name should be CN value<br/>[ECA-5273] - Query.toString() should output something readable<br/>[ECA-5300] - Certificate Policies in the same order in certificate encoding as in the GUI<br/>[ECA-5301] - Add instruction for upgrade<br/>[ECA-5307] - PRA: Manage requests should show request ID<br/>[ECA-5317] - Autogenerated EE usernames as configurable with EEP<br/>[ECA-5318] - RA enrollment: Remove password fields with certificate creation if approval are not required<br/>[ECA-5332] - Statedump import should skip revocation of end entities' certificates<br/>[ECA-5343] - KaRA: AuthLoginException should contain error code, fix missing parameter to error messages<br/>[ECA-5344] - KaRA: password should be called enrollment code<br/>[ECA-5355] - KaRA: some reasons missing when explaining why admin can't approve a certain request<br/>[ECA-5356] - Delete modules/dist directory on clean<br/>[ECA-5357] - KaRA Usability: request form clearing and email<br/>[ECA-5362] - KaRA Usability: Rename &quot;Needs Approval&quot; and &quot;Pending Approval&quot;<br/>[ECA-5371] - KaRA Usability: more information when finalizing enrollment<br/>[ECA-5377] - Improvements for Approval Profiles Documentation<br/>[ECA-5393] - Log subject DN of cert failing validity check<br/>[ECA-5400] - KaRA: Document authorization rules for RA User and RA Admin<br/>[ECA-5405] - Security hardening<br/>[ECA-5410] - Approval profile notifications ability to include admin who last approved request<br/>[ECA-5418] - Show approval request type on the Manage Request page<br/>[ECA-5421] - CA Token Properties upgrade should debug log and be case insensitive</p>
<p   
><strong class=" ">Master Ticket</strong><br/>[ECA-5315] - KaRA Usability: improve usability of wording in KaRA</p>
<p   
><strong class=" ">New Feature</strong><br/>[ECA-2277] - NetBeans IDE project<br/>[ECA-2390] - Import CRL via the WebUI<br/>[ECA-2842] - Add SAN SRVName OtherName for Service Name in Certificates (RFC 4985)<br/>[ECA-2843] - Add SAN XmppAddr OtherName for XMPP Client certificates (RFC 6120)<br/>[ECA-4379] - Add additional CVC OIDs for SHA512 and SHA384<br/>[ECA-4473] - Shell script for running statedump tool<br/>[ECA-4861] - Add Windows Certificate Autoenroll files as module<br/>[ECA-4972] - GUI Support for PKI Disclosure Statements (PDS) QCStatement and QCType<br/>[ECA-5111] - ID on SIM (RFC-4683) support in cesecore<br/>[ECA-5145] - Internal profile support for eIDAS Qualified Extension types Type and PDS<br/>[ECA-5264] - Make requestID available for end entity notifications when an Approval request to add end entity is created (waiting for approval)<br/>[ECA-5265] - Configure WS genTokenCertificates and viewHardToken to use the new approval profiles<br/>[ECA-5274] - Audit log approval profiles<br/>[ECA-5279] - Support RegisteredID in subject alternative name<br/>[ECA-5310] - Update SQL scripts for EJBCA 6.6.0 database schema changes<br/>[ECA-5322] - Ability to use variables in email subject for email expiration service<br/>[ECA-5412] - Add support for Services that run on all hosts to enable HSM Keepalive Service to run on all nodes in a cluster</p>
<p   
><strong class=" ">Story</strong><br/>[ECA-4782] - RA must be configurable to demand logged in users<br/>[ECA-4784] - RA interface must handle certificate management tasks including requesting revocation<br/>[ECA-4786] - RA must allow searching for End Entities<br/>[ECA-4788] - All requests must be given a universal identifier so that they can be tracked through logs<br/>[ECA-4796] - RA must handle certificate requests by manual CSRs<br/>[ECA-4801] - RA Administrators must be able to be notified about user requests<br/>[ECA-4804] - Notify other administrators about certificate issuances or revocations<br/>[ECA-4805] - RA administrators must be able to edit user requests.<br/>[ECA-4820] - RA users should be able to see the status of their requests<br/>[ECA-4863] - Approvals should be partitioned<br/>[ECA-4873] - PRA must allow searching for Certificates<br/>[ECA-4895] - RA users will be able to request server side generated keystores<br/>[ECA-4896] - Logged in RA users should see the certificate types types they're authorized to<br/>[ECA-4979] - RA Interface should allow download of CA certificates and CRLs<br/>[ECA-5153] - RA administrators must be able to create end entities from the PRA<br/>[ECA-5336] - KaRA: As a RA User I have forgotten my requestID and need to finalize enrollment</p>
<p   
><strong class=" ">Task</strong><br/>[ECA-4868] - Security Issue<br/>[ECA-5031] - Update cmp proxy web.xml to JEE6<br/>[ECA-5209] - Remove additional left-over old generated web services sources<br/>[ECA-5263] - Update the RA to handle partitioned approvals properly<br/>[ECA-5348] - Add JUnit test for Certificate Profile extension<br/>[ECA-5361] - Evaluate security test report<br/>[ECA-5370] - KaRA usability: Rename Generate buttons to Download<br/>[ECA-5408] - Add authorization checks when trying to edit a request<br/>[ECA-5409] - Allow the Auditor role to see all RA pages except enrollment<br/>[ECA-5413] - Update CT log documentation<br/>[ECA-5437] - Document that Wildfly 10 config also applies to JBoss EAP 7.0.x<br/>[ECA-5446] - Prevent locales used during development to be selected in RA</p>
<p   
><strong class=" ">Technical Requirement</strong><br/>[ECA-4817] - An authentication token must travel in a nestled fashion from the RA to the CA, rights will be the intersection of all nestled tokens' rights<br/>[ECA-4819] - CA-&gt;ERA/PRA should use Peers to establish their connection<br/>[ECA-4826] - ERA/PRA must extract a subset of access rules from the CA<br/>[ECA-4869] - Deployable Public RA interface (PRA) as part of the EJBCA EAR<br/>[ECA-4917] - RA Proxy Authorization Cache</p>
<p   
><strong class=" ">Sub-task</strong><br/>[ECA-4446] - Introduce typing for ListDataModel<br/>[ECA-4800] - Support for request revocation of authorized certificates<br/>[ECA-4867] - Long hanging peer connections for reverse calls<br/>[ECA-4870] - Create a module for the Public RA interface and make sure it is deployed with the EJBCA EAR<br/>[ECA-4874] - Add End Entity Profile ID column to CertificateData<br/>[ECA-4875] - Create a basic PrimeKey branded CSS for the RA interface<br/>[ECA-4879] - Create/modify an authentication token that handles nestled credentials<br/>[ECA-4881] - Reverse calls should use AuthenticationToken with caller's server side TLS cert<br/>[ECA-4898] - Create initial RA enrollment workflow<br/>[ECA-4907] - Implement Approval Profiles and convert the old approvals to the appropriate profile.<br/>[ECA-4908] - KaRA-Approvals: Handle approval request according to approval profiles<br/>[ECA-4911] - KaRA-Approvals: Implement &quot;Edit&quot;<br/>[ECA-4918] - Method to list access rules that the AuthenticationToken is authorized to<br/>[ECA-4919] - Call RA peer when access rules change<br/>[ECA-4920] - RaAccessBean on RA for checking authorization<br/>[ECA-4922] - Introduce PublicAccessAuthenticationToken<br/>[ECA-4927] - Improve logging and retries of peer connections<br/>[ECA-4934] - Improve performance of LookAheadObjecInputStream tree<br/>[ECA-4937] - Proper error handling<br/>[ECA-4938] - Basic RA client HTTP session handling<br/>[ECA-4940] - I18N: Handle right to left languages in RA<br/>[ECA-4941] - I18N: Use UTF-8 in resource bundles and add fallback to default language<br/>[ECA-4942] - Peer Connector config for long-handing RA threads<br/>[ECA-4944] - Simplify authorization of server side TLS certificates for Peer RA<br/>[ECA-4948] - Test required access rules for EJBCA WS keyRecovery operation<br/>[ECA-4954] - Event driven throttle up of long hanging connections<br/>[ECA-4962] - Per-AuthenticationToken cache for AccessSets<br/>[ECA-4966] - Prevent race condition when app server is started and quickly shutdown<br/>[ECA-4969] - Prevent HTTP session stealing for TLS authenticated clients<br/>[ECA-4973] - Reloading the RA Authorization Cache instead of clearing it<br/>[ECA-4975] - Improve RA JSF base according to best practices<br/>[ECA-4977] - KaRA: Add OWASP ESAPI best practices<br/>[ECA-4981] - KaRA Approvals: Create access rules to manage ApprovalProfiles<br/>[ECA-4984] - RA page for CA certificate and CRL downloads<br/>[ECA-4986] - Leave a database mark for EEP Id population when upgrading to 6.6.0<br/>[ECA-4994] - Convert RaMasterApiProxy into a singleton<br/>[ECA-4995] - Progressive Enhancement with KickAss RA<br/>[ECA-5006] - Page to view/handle approval requests in the RA UI<br/>[ECA-5011] - Create certificate search base page and basic API call to improve on<br/>[ECA-5013] - Use RaAccessBean to limit displayed choices in the menu<br/>[ECA-5016] - Use reflection Proxy for RaMasterApi mock objects in tests<br/>[ECA-5018] - Detect if RFC4387 CRL store is enabled and adapt CRL download URLs<br/>[ECA-5028] - Inform RA of latest authorization cache update number on reconnect<br/>[ECA-5032] - Create end entity search base page and basic API call to improve on<br/>[ECA-5040] - Test search functionality on large dataset and limit query database load when possible<br/>[ECA-5042] - Override serialization of CertificateDataWrapper, to handle passing CertificateData between different versions<br/>[ECA-5051] - KaRA-Approvals: Move method accessing the database to the session bean<br/>[ECA-5052] - KaRA-Approvals: Replace the current cache with a @singleton bean<br/>[ECA-5053] - KaRA-Approvals: Sort approval profiles in the AdminGUI<br/>[ECA-5054] - Remove unused approvals code from UI<br/>[ECA-5058] - Add Approval and Request Expiration periods options to Approval Profile<br/>[ECA-5061] - KaRA-Approvals: Set the right approval profiles<br/>[ECA-5064] - Change class name of ApprovalProfileNumberOfApprovals<br/>[ECA-5067] - KaRA-Approvals: Approval Profile Cache should be cleared in the CLI too<br/>[ECA-5068] - KaRA-Approvals: Update documentation about approvals<br/>[ECA-5070] - Authorization rights for enrollment with new request<br/>[ECA-5077] - KaRA-Approvals: ApprovalProfileTypes in ServiceLoader<br/>[ECA-5082] - Maintain 100% uptime when upgrading Approvals<br/>[ECA-5090] - Clean up test methods in RaMasterApi<br/>[ECA-5092] - JUnit test for API design violations<br/>[ECA-5097] - RA Certificate chain download as PKCS#7<br/>[ECA-5100] - Certificate details view in RA<br/>[ECA-5109] - Serialize exceptions from invocations<br/>[ECA-5110] - Implement RA certificate search by Subject Alternative Name<br/>[ECA-5113] - RA method to get approval request by hash (approvalId)<br/>[ECA-5120] - Public Access token match either PLAIN or CONFIDENTIAL transport<br/>[ECA-5121] - AccessMatchType.NONE should not requre a matchValue<br/>[ECA-5123] - Admin should be able to see which admin an approval request is waiting for<br/>[ECA-5125] - Log who edited an approval request<br/>[ECA-5126] - Add notBefore column to CertificateData<br/>[ECA-5127] - Implement RA certificate search by issuance date as advanced option<br/>[ECA-5137] - Split generic search string into fields<br/>[ECA-5143] - Add view functionality for EEs in RA<br/>[ECA-5154] - Show preview of certificate during RA enrollment<br/>[ECA-5157] - Update admin guide on Peer Systems with new RA functionality<br/>[ECA-5159] - Invoke EEP's revoked notification when an individual certificate is revoked<br/>[ECA-5162] - Add approval metadata to Partitioned Approval Profiles<br/>[ECA-5163] - Add view rights to partitioned approval profiles<br/>[ECA-5164] - Display completed steps as view only when performing approval (if view rights are held)<br/>[ECA-5172] - Add an e-mail field to approval partitions<br/>[ECA-5173] - Add notification evaluation to approval executions<br/>[ECA-5177] - Refactor download credentials type during enrollment on PRA<br/>[ECA-5180] - Show &quot;certificate preview&quot; during enrollment on PRA<br/>[ECA-5182] - Enforce certificate profile algorightms for CSR during PRA enrollment<br/>[ECA-5183] - Fix approvals in the RA GUI after the refactoring<br/>[ECA-5186] - PRA enrollment: add support for the multiple non-modifiable values for EE fields<br/>[ECA-5189] - Approval Profile page renderes non-JS button in view mode<br/>[ECA-5200] - Add Web Designer styles and modifications, including mobile<br/>[ECA-5201] - Add support for nesting of parameter type List&lt;AuthenticationToken&gt; in RaMasterApi<br/>[ECA-5202] - Deserialized NestableAuthenticationTokens needs to be re-initialized within JVM<br/>[ECA-5205] - Use certs-only PKCS#7 / CMS on RA<br/>[ECA-5207] - Allow configuration of /ra_slave/manage from simplified peer auth view<br/>[ECA-5208] - RA enrollment: Refactor the RA interface according to the synchup week 27<br/>[ECA-5211] - Clean up GUI request authorization checks<br/>[ECA-5218] - Use more efficient backend call for RaMasterApi.getApprovalDataByRequestHash<br/>[ECA-5219] - Add buttons for changing step order in the approval profile UI<br/>[ECA-5221] - Split generic search string into fields<br/>[ECA-5222] - RA enrollment: Improve handling of NoJS buttons<br/>[ECA-5225] - RA enrollment: Hide static fields by default<br/>[ECA-5229] - Better handling of CSR upload during RA enrollment<br/>[ECA-5231] - Remove the approvalprofileid column from ApprovalData<br/>[ECA-5237] - Populate modifiable SAN fields from CSR during RA enrollment<br/>[ECA-5243] - Enforce CSR or key spec in EndEntityInformation when issuing a certificate<br/>[ECA-5248] - Don't localize logged messages using current users selected locale<br/>[ECA-5313] - KaRA Usability: Start step with nr 1 instead of 0 in Approval Profiles in Admin GUI<br/>[ECA-5314] - KaRA Usability: should be able to notify what partition (name) was performed<br/>[ECA-5316] - KaRA Usability: rename the word Partition for appoval parts<br/>[ECA-5340] - KaRA Usability: Shorten auto-generated username to 32 chars</p>
    </div>
    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0.1">
        <h2 class="heading "><span>Issues Resolved in 6.5.0.1</span></h2>
<p   
>Released on 1 March 2016</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-4862] - CmpMessageHelper.createUnprotectedErrorMessage throws an NPE if a nonce is not included in the CMP message</p>
    </div>
    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0.2">
        <h2 class="heading "><span>Issues Resolved in 6.5.0.2</span></h2>
<p   
>Released on 1 March 2016</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-4860] - CryptoToken Id not updated when importing a statedump with the merge option<strong class=" ">.</strong></p>
    </div>
    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0.3">
        <h2 class="heading "><span>Issues Resolved in 6.5.0.3</span></h2>
<p   
>Released on 23 March 2016</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-4931] - Minor security issue<br/>ECA-4955] - CMP Proxy swallows underlying error message when verifying certificate path.</p>
    </div>
    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0.4">
        <h2 class="heading "><span>Issues Resolved in 6.5.0.4</span></h2>
<p   
>Released on 10 February 2017</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-4872] - System configuration page broken in WildFly 10<br/>[ECA-4945] - Edit admin entities broken in WildFly 10<br/>[ECA-5687] - EJBCA 6.5.0 Community post-upgrade does not fail gracefully</p>
    </div>
    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.0.5">
        <h2 class="heading "><span>Issues Resolved in 6.5.0.5</span></h2>
<p   
>Released on 06 April 2017</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-5767] - Soft CA Token key alias set to wrong value in upgrade from 4.0<br/>[ECA-5764] - Backport: Key alias in CMS CA service was changed so it can not be read after upgrade<br/>[ECA-5784] - Legacy script based autoenrolment should not remove end entity profile<br/>[ECA-5798] - Backport clientToolBox fix to EJBCA Community</p>
    </div>
    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.1">
        <h2 class="heading "><span>Issues Resolved in 6.5.1</span></h2>
<p   
>Released on 15 April 2016</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-4549] - In Basic Access Rules, 'All' is listed last in the list of CAs<br/>[ECA-4834] - Security hardening<br/>[ECA-4856] - Security Hardening<br/>[ECA-4858] - Confusing audit log message when reactivating a crypto token<br/>[ECA-4860] - CryptoToken Id not updated when importing a statedump with the merge option<br/>[ECA-4862] - CmpMessageHelper.createUnprotectedErrorMessage throws an NPE if a nonce is not included in the CMP message<br/>[ECA-4872] - System configuration page broken in WildFly 10<br/>[ECA-4882] - CMP Proxy: Message signer chain should have its own configuration key in cmpProxy.properties<br/>[ECA-4883] - CMP Proxy: NPE when the right CA certificate is not found<br/>[ECA-4884] - Reference to Hudson in code when deploying ant<br/>[ECA-4885] - Key recovery requires 'Edit End Entities'-rights<br/>[ECA-4889] - Change all references from &quot;Enrolment&quot; to &quot;Enrollment&quot;<br/>[ECA-4892] - Clearing caches fails locally if clearing the cache on any clustered nodes fails as well.<br/>[ECA-4893] - CMP Proxy: Revocation status cache is read incorrectly<br/>[ECA-4923] - ClientToolBox is missing lib/ejbca-ws.jar dependency<br/>[ECA-4925] - Old version of cert-cvc still under lib<br/>[ECA-4928] - CMP Proxy Servlet doesn't properly handle messages with faulty ASN.1 syntax<br/>[ECA-4931] - Minor security issue<br/>[ECA-4945] - Edit admin entities broken in WildFly 10<br/>[ECA-4955] - CMP Proxy swallows underlying error message when verifying certificate path<br/>[ECA-4956] - Regression: Key alias in CMS CA service was changed so it can not be read after upgrade<br/>[ECA-4974] - Regression: SecureXMLDecoder doesn't allow import of CertificatePolicy objects<br/>[ECA-4988] - CMP Aliases can't handle that End Entity Profiles are renamed<br/>[ECA-4990] - CMP aliases can't handle CA removal<br/>[ECA-4992] - SHA256WithRSAAndMGF1 broken in some cases<br/>[ECA-4996] - Editing a CMP configuration while having limited access leads to hidden aliases being deleted<strong class=" "><br/> <br/>Improvement<br/> </strong>[ECA-4673] - Downloading an non-existent delta-CRL on the public web leads to a 404<br/>[ECA-4795] - External RA: NPE in external RA gui when externalra-gui.issuerchain points to a non existing file<br/>[ECA-4906] - Limit OCSP Nonce to 32 bytes<br/>[ECA-4932] - Exclude install properties files from ejbca.ear<br/>[ECA-4947] - Resetting an end entity password after key recovery should not require 'Edit End Entities'-rights<br/>[ECA-4963] - Certificate Profiles: Keep sorting, but sort default profile types first.<br/>[ECA-4998] - Document that CMP Unid support currently isn't supported</p>
<p   
><strong class=" ">New Feature</strong><br/>[ECA-4473] - Shell script for running statedump tool</p>
<p   
><strong class=" ">Task</strong><br/>[ECA-4868] - Security Issue</p>
    </div>
    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.2">
        <h2 class="heading "><span>Issues Resolved in 6.5.2</span></h2>
<p   
>Released on 13 May 2016</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-4684] - Possible to enter more pages than there are results in View Audit Logs page<br/>[ECA-5020] - Statedump bash script is unintentionally included with release zip<br/>[ECA-5021] - Regression: Statedump is no longer able to import crypto tokens without activating them<br/>[ECA-5022] - CMP: Unable to find existing end entity profiles<br/>[ECA-5030] - Can't select uninitialised root CA as signer for local uninitialised sub-CA<br/>[ECA-5033] - Role display issue adding end entities<br/>[ECA-5034] - Can't use negative values in FieldEditor / editcertificateprofile command<br/>[ECA-5043] - If the folder defined by cmp.backend.extracertissuer does not exist, an NPE is thrown.<br/>[ECA-5048] - Single Active Certificate Constraint does not cause publishing<br/>[ECA-5069] - editca CLI command fails when renaming a CA<br/>[ECA-5071] - NPE thrown when importing statedump with prefix for CA CN field in subject DN<br/>[ECA-5073] - Security Issue<br/>[ECA-5075] - Possible session caching issues on SCEP alias page<br/>[ECA-5081] - Viewing deleted userdata may show session cached value of previously viewed user</p>
<p   
><strong class=" ">Improvement</strong><br/>[ECA-5007] - Use last full CRL generation date as input to certificate expiration<br/>[ECA-5024] - Don't log error when cAId column does not exist in AdminGroupData<br/>[ECA-5076] - Log as failed login event if certificate does not belong to any role</p>
<p   
><strong class=" ">New Feature</strong><br/>[ECA-4610] - eIDAS: New ETSI DN attribute &quot;organizationIdentifier&quot;</p>
    </div>
    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.3">
        <h2 class="heading "><span>Issues Resolved in 6.5.3</span></h2>
<p   
>Released on 22 June 2016</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-5085] - Regression: ca editca fails on an NPE if --fields parameter is missed.<br/>[ECA-5089] - Security hardening<br/>[ECA-5091] - Single Active Certificate Constraint does not cause publishing when called from CMP<br/>[ECA-5129] - Security issue<br/>[ECA-5144] - Regression: Bug in Key Recovery</p>
<p   
>Improvement<br/>[ECA-5038] - State more clearly in documentation that Peers is enterprise only<br/>[ECA-5093] - Add debug logging when testing CT publisher connections<br/>[ECA-5094] - Potential security issue<br/>[ECA-5096] - In SCEP servlet don't info log auth failure that has already been audit logged<br/>[ECA-5099] - Potential security issue<br/>[ECA-5131] - Update Japanese Language Files<br/>[ECA-5135] - ejbca-db-cli verify command should support individual table verification<br/>[ECA-5158] - ejbca-db-cli &quot;verify integrity protection&quot; flag does not affect tables related to RoleData</p>
<p   
>New Feature<br/>[ECA-5136] - CHR override for IS and DV certificates</p>
    </div>
    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.4">
        <h2 class="heading "><span>Issues Resolved in 6.5.4</span></h2>
<p   
>Released on 27 October 2016</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-5206] - CMP revocation requests fails CA authorization if issuer CA has X.500 ordering<br/>[ECA-5253] - NPE should be avoided when not receiving an OCSP response in CmpProxyServlet<br/>[ECA-5305] - Regression: SecureXMLDecoder doesn't allow import of CTLog objects<br/>[ECA-5323] - Client toolbox start script not working for p11 when JAVA_HOME is set<br/>[ECA-5387] - Issuer Alternative Name not included in Root CA until it's renewed<br/>[ECA-5440] - Verification of database protection not working for Custom Certificate extensions</p>
<p   
><strong class=" ">New Feature</strong><br/>[ECA-5279] - Support RegisteredID in subject alternative name<br/>[ECA-5322] - Ability to use variables in email subject for email expiration service</p>
<p   
><strong class=" ">Improvement</strong><br/>[ECA-5300] - Certificate Policies in the same order in certificate encoding as in the GUI<br/>[ECA-5459] - Only regard revocation reasons *Compromise and unspecified as CA private key compromise in VA</p>
    </div>
    <div class="section section-2" id="src-16225806_id-.EJBCA6.5ReleaseNotesv6.12.0-IssuesResolvedin6.5.5">
        <h2 class="heading "><span>Issues Resolved in 6.5.5</span></h2>
<p   
>Released on 30 November 2016</p>
<p   
><strong class=" ">Bug Fixes</strong></p>
<p   
>[ECA-5495] - Update of imported CA certificate is not persisted to the CertificateData table</p>
<p   
><strong class=" ">Improvement</strong><br/>[ECA-5496] - IKB certificate import should not use the current CA certificate if public key does not match<br/>[ECA-5501] - Don't initialize classes in ServiceManifestBuilder</p>
    </div>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="EJBCA_6.6_Release_Notes.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>EJBCA 6.6 Release Notes</span>
        </a>
                <a href="EJBCA_6.4_Release_Notes.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>EJBCA 6.4 Release Notes</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

</body>
</html>
