<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.6) on Tue Oct 20 09:52:18 BST 2020 -->
<title>ApprovalExecutionSession (EJB-CA 1.0.1-beta-2 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-10-20">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ApprovalExecutionSession (EJB-CA 1.0.1-beta-2 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ApprovalExecutionSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.ejbca.core.ejb.approval</a></div>
<h2 title="Interface ApprovalExecutionSession" class="title">Interface ApprovalExecutionSession</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="ApprovalExecutionSessionLocal.html" title="interface in org.ejbca.core.ejb.approval">ApprovalExecutionSessionLocal</a></code>, <code><a href="ApprovalExecutionSessionRemote.html" title="interface in org.ejbca.core.ejb.approval">ApprovalExecutionSessionRemote</a></code></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="ApprovalExecutionSessionBean.html" title="class in org.ejbca.core.ejb.approval">ApprovalExecutionSessionBean</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">ApprovalExecutionSession</span></pre>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id: ApprovalExecutionSession.java 23950 2016-07-20 10:05:45Z anatom $</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#approve(org.cesecore.authentication.tokens.AuthenticationToken,int,org.ejbca.core.model.approval.Approval)">approve</a></span>&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
       int&nbsp;approvalId,
       <a href="../../model/approval/Approval.html" title="class in org.ejbca.core.model.approval">Approval</a>&nbsp;approval)</code></th>
<td class="colLast">
<div class="block">Method used to approve an approval requests.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reject(org.cesecore.authentication.tokens.AuthenticationToken,int,org.ejbca.core.model.approval.Approval)">reject</a></span>&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
      int&nbsp;approvalId,
      <a href="../../model/approval/Approval.html" title="class in org.ejbca.core.model.approval">Approval</a>&nbsp;approval)</code></th>
<td class="colLast">
<div class="block">Method used to reject an approval requests.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="approve(org.cesecore.authentication.tokens.AuthenticationToken,int,org.ejbca.core.model.approval.Approval)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>approve</h4>
<pre class="methodSignature">void&nbsp;approve&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
             int&nbsp;approvalId,
             <a href="../../model/approval/Approval.html" title="class in org.ejbca.core.model.approval">Approval</a>&nbsp;approval)
      throws <a href="../../model/approval/ApprovalRequestExpiredException.html" title="class in org.ejbca.core.model.approval">ApprovalRequestExpiredException</a>,
             <a href="../../model/approval/ApprovalRequestExecutionException.html" title="class in org.ejbca.core.model.approval">ApprovalRequestExecutionException</a>,
             <a href="../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a>,
             <a href="../../model/approval/AdminAlreadyApprovedRequestException.html" title="class in org.ejbca.core.model.approval">AdminAlreadyApprovedRequestException</a>,
             <a href="../../model/approval/ApprovalException.html" title="class in org.ejbca.core.model.approval">ApprovalException</a>,
             <a href="../../model/approval/SelfApprovalException.html" title="class in org.ejbca.core.model.approval">SelfApprovalException</a>,
             <a href="../../../../cesecore/authentication/AuthenticationFailedException.html" title="class in org.cesecore.authentication">AuthenticationFailedException</a></pre>
<div class="block">Method used to approve an approval requests.
 
 It does the following 1. checks if the approval with the status waiting
 exists, throws an ApprovalRequestDoesntExistException otherwise
 
 2. check if the administrator is authorized using the following rules:
 2.1 if getEndEntityProfile is ANY_ENDENTITYPROFILE then check if the admin is
 authorized to AccessRulesConstants.REGULAR_APPROVECAACTION otherwise
 AccessRulesConstants.REGULAR_APPORVEENDENTITY and APPROVAL_RIGHTS for the
 end entity profile.
 2.2 Checks if the admin is authorized to the approval requests getCAId()
 
 3. looks up the username of the administrator and checks that no
 approval have been made by this user earlier.
 
 4. Runs the approval command in the end entity bean.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - The administrator approving the request</dd>
<dd><code>approvalId</code> - the approvalId of the request that the admin tries to approve</dd>
<dd><code>approval</code> - the new approval to vet</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../model/approval/ApprovalRequestExpiredException.html" title="class in org.ejbca.core.model.approval">ApprovalRequestExpiredException</a></code> - fail</dd>
<dd><code><a href="../../model/approval/ApprovalRequestExecutionException.html" title="class in org.ejbca.core.model.approval">ApprovalRequestExecutionException</a></code> - fail</dd>
<dd><code><a href="../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - if the admin wasn't authorized to perform approvals, or wasn't authorized to the particular approval 
          profile</dd>
<dd><code><a href="../../model/approval/AdminAlreadyApprovedRequestException.html" title="class in org.ejbca.core.model.approval">AdminAlreadyApprovedRequestException</a></code> - if the admin has already approved the action before</dd>
<dd><code><a href="../../model/approval/ApprovalException.html" title="class in org.ejbca.core.model.approval">ApprovalException</a></code> - fail</dd>
<dd><code><a href="../../model/approval/SelfApprovalException.html" title="class in org.ejbca.core.model.approval">SelfApprovalException</a></code> - if the administrator performing the approval is the same as the one requesting the original action.</dd>
<dd><code><a href="../../../../cesecore/authentication/AuthenticationFailedException.html" title="class in org.cesecore.authentication">AuthenticationFailedException</a></code> - if the authentication token failed to authenticate</dd>
</dl>
</li>
</ul>
<a id="reject(org.cesecore.authentication.tokens.AuthenticationToken,int,org.ejbca.core.model.approval.Approval)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reject</h4>
<pre class="methodSignature">void&nbsp;reject&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
            int&nbsp;approvalId,
            <a href="../../model/approval/Approval.html" title="class in org.ejbca.core.model.approval">Approval</a>&nbsp;approval)
     throws <a href="../../model/approval/ApprovalRequestExpiredException.html" title="class in org.ejbca.core.model.approval">ApprovalRequestExpiredException</a>,
            <a href="../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a>,
            <a href="../../model/approval/ApprovalException.html" title="class in org.ejbca.core.model.approval">ApprovalException</a>,
            <a href="../../model/approval/AdminAlreadyApprovedRequestException.html" title="class in org.ejbca.core.model.approval">AdminAlreadyApprovedRequestException</a>,
            <a href="../../model/approval/SelfApprovalException.html" title="class in org.ejbca.core.model.approval">SelfApprovalException</a>,
            <a href="../../../../cesecore/authentication/AuthenticationFailedException.html" title="class in org.cesecore.authentication">AuthenticationFailedException</a></pre>
<div class="block">Method used to reject an approval requests.
 
 It does the following 1. checks if the approval with the status waiting
 exists, throws an ApprovalRequestDoesntExistException otherwise
 
 2. check if the administrator is authorized using the following rules: 
   2.1 If the approval profile is of type AccumulativeApprovalProfile:
      2.1.1 if getEndEntityProfile is ANY_ENDENTITYPROFILE then check if the admin is
            authorized to AccessRulesConstants.REGULAR_APPROVECAACTION otherwise
            AccessRulesConstants.REGULAR_APPORVEENDENTITY and APPROVAL_RIGHTS for the
            end entity profile. 
      2.1.2 Checks if the admin is authorized to the approval requests getCAId()
   2.2 If the approval profile is of another type, check  whether the admin is authorized 
       by calling ApprovalprofileType.isAdminAllowedToApprove()
 
 3. looks up the username of the administrator and checks that no
 approval have been made by this user earlier.
 
 4. Runs the approval command in the end entity bean.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - admin</dd>
<dd><code>approvalId</code> - approval</dd>
<dd><code>approval</code> - approval</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../model/approval/ApprovalRequestExpiredException.html" title="class in org.ejbca.core.model.approval">ApprovalRequestExpiredException</a></code> - fail</dd>
<dd><code><a href="../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - if the admin wasn't authorized to perform approvals, or wasn't authorized to the particular approval 
          profile</dd>
<dd><code><a href="../../model/approval/AdminAlreadyApprovedRequestException.html" title="class in org.ejbca.core.model.approval">AdminAlreadyApprovedRequestException</a></code> - if the admin has already approved the action before</dd>
<dd><code><a href="../../model/approval/ApprovalException.html" title="class in org.ejbca.core.model.approval">ApprovalException</a></code> - fail</dd>
<dd><code><a href="../../model/approval/SelfApprovalException.html" title="class in org.ejbca.core.model.approval">SelfApprovalException</a></code> - if the administrator performing the approval is the same as the one requesting the original action.</dd>
<dd><code><a href="../../../../cesecore/authentication/AuthenticationFailedException.html" title="class in org.cesecore.authentication">AuthenticationFailedException</a></code> - if the authentication token failed to authenticate</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ApprovalExecutionSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2020. All rights reserved.</small></p>
</footer>
</body>
</html>