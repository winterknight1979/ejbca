<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.8) on Sun Sep 27 18:45:48 UTC 2020 -->
<title>SignSessionLocal (EJB-CA 1.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-09-27">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SignSessionLocal (EJB-CA 1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SignSessionLocal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.ejbca.core.ejb.ca.sign</a></div>
<h2 title="Interface SignSessionLocal" class="title">Interface SignSessionLocal</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="SignSession.html" title="interface in org.ejbca.core.ejb.ca.sign">SignSession</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">SignSessionLocal</span>
extends <a href="SignSession.html" title="interface in org.ejbca.core.ejb.ca.sign">SignSession</a></pre>
<div class="block">Local interface for RSASignSession.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,java.security.PublicKey)">createCertificate</a></span>&#8203;(<a href="../../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;password,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/PublicKey.html?is-external=true" title="class or interface in java.security" class="externalLink">PublicKey</a>&nbsp;pk)</code></th>
<td class="colLast">
<div class="block">Requests for a certificate to be created for the passed public key with default key usage
 The method queries the user database for authorization of the user.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,java.security.PublicKey,int,java.util.Date,java.util.Date)">createCertificate</a></span>&#8203;(<a href="../../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;password,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/PublicKey.html?is-external=true" title="class or interface in java.security" class="externalLink">PublicKey</a>&nbsp;pk,
                 int&nbsp;keyusage,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notBefore,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notAfter)</code></th>
<td class="colLast">
<div class="block">Requests for a certificate to be created for the passed public key with the passed key
 usage.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,java.security.PublicKey,int,java.util.Date,java.util.Date,int,int)">createCertificate</a></span>&#8203;(<a href="../../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;password,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/PublicKey.html?is-external=true" title="class or interface in java.security" class="externalLink">PublicKey</a>&nbsp;pk,
                 int&nbsp;keyusage,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notBefore,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notAfter,
                 int&nbsp;certificateprofileid,
                 int&nbsp;caid)</code></th>
<td class="colLast">
<div class="block">Requests for a certificate to be created for the passed public key with the passed key
 usage and using the given certificate profile.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../cesecore/certificates/certificate/request/ResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">ResponseMessage</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createCertificateIgnoreStatus(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.request.RequestMessage,java.lang.Class,boolean)">createCertificateIgnoreStatus</a></span>&#8203;(<a href="../../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                             <a href="../../../../../cesecore/certificates/certificate/request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;req,
                             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;? extends <a href="../../../../../cesecore/certificates/certificate/request/CertificateResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">CertificateResponseMessage</a>&gt;&nbsp;responseClass,
                             boolean&nbsp;ignorePassword)</code></th>
<td class="colLast">
<div class="block">Requests for a certificate to be created for the passed public key wrapped in a certification request message (ex PKCS10).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../cesecore/certificates/ca/CA.html" title="class in org.cesecore.certificates.ca">CA</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCAFromRequest(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.request.RequestMessage,boolean)">getCAFromRequest</a></span>&#8203;(<a href="../../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                <a href="../../../../../cesecore/certificates/certificate/request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;req,
                boolean&nbsp;doLog)</code></th>
<td class="colLast">
<div class="block">Returns a CA that a request is targeted for.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#signPayload(byte%5B%5D,int)">signPayload</a></span>&#8203;(byte[]&nbsp;data,
           int&nbsp;signingCaId)</code></th>
<td class="colLast">
<div class="block">Signs the provided payload using the given CA's signing keys.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.ejbca.core.ejb.ca.sign.SignSession">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.ejbca.core.ejb.ca.sign.<a href="SignSession.html" title="interface in org.ejbca.core.ejb.ca.sign">SignSession</a></h3>
<code><a href="SignSession.html#createCardVerifiableCertificateWS(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,java.lang.String)">createCardVerifiableCertificateWS</a>, <a href="SignSession.html#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,java.security.cert.Certificate)">createCertificate</a>, <a href="SignSession.html#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,org.cesecore.keys.util.PublicKeyWrapper)">createCertificate</a>, <a href="SignSession.html#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,org.cesecore.keys.util.PublicKeyWrapper,int,java.util.Date,java.util.Date)">createCertificate</a>, <a href="SignSession.html#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,org.cesecore.keys.util.PublicKeyWrapper,int,java.util.Date,java.util.Date,int,int)">createCertificate</a>, <a href="SignSession.html#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.request.RequestMessage,java.lang.Class,org.cesecore.certificates.endentity.EndEntityInformation)">createCertificate</a>, <a href="SignSession.html#createCertificateWS(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,java.lang.String,int,java.lang.String,java.lang.String)">createCertificateWS</a>, <a href="SignSession.html#createPKCS7(org.cesecore.authentication.tokens.AuthenticationToken,int,boolean)">createPKCS7</a>, <a href="SignSession.html#createPKCS7(org.cesecore.authentication.tokens.AuthenticationToken,java.security.cert.X509Certificate,boolean)">createPKCS7</a>, <a href="SignSession.html#createPKCS7Rollover(org.cesecore.authentication.tokens.AuthenticationToken,int)">createPKCS7Rollover</a>, <a href="SignSession.html#createRequestFailedResponse(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.request.RequestMessage,java.lang.Class,org.cesecore.certificates.certificate.request.FailInfo,java.lang.String)">createRequestFailedResponse</a>, <a href="SignSession.html#decryptAndVerifyRequest(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.request.RequestMessage)">decryptAndVerifyRequest</a>, <a href="SignSession.html#fetchCertGenParams()">fetchCertGenParams</a>, <a href="SignSession.html#getCertificateChain(int)">getCertificateChain</a>, <a href="SignSession.html#getCRL(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.request.RequestMessage,java.lang.Class)">getCRL</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getCAFromRequest(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.request.RequestMessage,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCAFromRequest</h4>
<pre class="methodSignature"><a href="../../../../../cesecore/certificates/ca/CA.html" title="class in org.cesecore.certificates.ca">CA</a>&nbsp;getCAFromRequest&#8203;(<a href="../../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                    <a href="../../../../../cesecore/certificates/certificate/request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;req,
                    boolean&nbsp;doLog)
             throws <a href="../../../../../cesecore/certificates/ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a>,
                    <a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></pre>
<div class="block">Returns a CA that a request is targeted for. Uses different methods in priority order to try to find it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - an authenticating token</dd>
<dd><code>req</code> - the request</dd>
<dd><code>doLog</code> - if this operation should log in the audit log.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>CA object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../cesecore/certificates/ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a></code> - fail</dd>
<dd><code><a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - fail</dd>
</dl>
</li>
</ul>
<a id="createCertificateIgnoreStatus(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.request.RequestMessage,java.lang.Class,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCertificateIgnoreStatus</h4>
<pre class="methodSignature"><a href="../../../../../cesecore/certificates/certificate/request/ResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">ResponseMessage</a>&nbsp;createCertificateIgnoreStatus&#8203;(<a href="../../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                              <a href="../../../../../cesecore/certificates/certificate/request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;req,
                                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;? extends <a href="../../../../../cesecore/certificates/certificate/request/CertificateResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">CertificateResponseMessage</a>&gt;&nbsp;responseClass,
                                              boolean&nbsp;ignorePassword)
                                       throws <a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a>,
                                              <a href="../../ra/NoSuchEndEntityException.html" title="class in org.ejbca.core.ejb.ra">NoSuchEndEntityException</a>,
                                              <a href="../../../../../cesecore/certificates/certificate/CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a>,
                                              <a href="../../../../../cesecore/certificates/certificate/CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a>,
                                              <a href="../../../../../cesecore/certificates/ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a>,
                                              <a href="../../../model/approval/ApprovalException.html" title="class in org.ejbca.core.model.approval">ApprovalException</a>,
                                              <a href="../../../model/approval/WaitingForApprovalException.html" title="class in org.ejbca.core.model.approval">WaitingForApprovalException</a></pre>
<div class="block">Requests for a certificate to be created for the passed public key wrapped in a certification request message (ex PKCS10).  The username and password used to 
 authorize is taken from the request message. Verification of the signature (proof-of-possesion) on the request is performed, and an exception thrown if verification fails. 
 The method queries the user database for authorization of the user.
 
 Works like the standard methods in this class for creating certificates, but will set status to NEW if it is GENERATED. Is guaranteed to roll back user status change if an 
 error is encountered during certificate creation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - Information about the administrator or admin performing the event.</dd>
<dd><code>req</code> - a Certification Request message, containing the public key to be put in the
                      created certificate. Currently no additional parameters in requests are considered!</dd>
<dd><code>responseClass</code> - The implementation class that will be used as the response message.</dd>
<dd><code>ignorePassword</code> - set to true if password authentication isn't available (for example during SCEP certificate renewal). Password will be set from the request.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The newly created response</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../ra/NoSuchEndEntityException.html" title="class in org.ejbca.core.ejb.ra">NoSuchEndEntityException</a></code> - if the user does not exist (does not require rollback)</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a></code> - if certificate was meant to be issued revoked, but could not.  (rollback)</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></code> - if certificate couldn't be created.  (rollback)</dd>
<dd><code><a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - if the authentication token wasn't authorized to the CA defined in the request  (rollback)</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a></code> - fail</dd>
<dd><code><a href="../../../model/approval/ApprovalException.html" title="class in org.ejbca.core.model.approval">ApprovalException</a></code> - if changing the end entity status requires approval (does not require rollback)</dd>
<dd><code><a href="../../../model/approval/WaitingForApprovalException.html" title="class in org.ejbca.core.model.approval">WaitingForApprovalException</a></code> - if an approval is already waiting for the status to be changed (does not require rollback)</dd>
</dl>
</li>
</ul>
<a id="createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,java.security.PublicKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCertificate</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;createCertificate&#8203;(<a href="../../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;password,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/PublicKey.html?is-external=true" title="class or interface in java.security" class="externalLink">PublicKey</a>&nbsp;pk)
                       throws <a href="../../../../../cesecore/certificates/ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a>,
                              <a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a>,
                              <a href="../../../../../cesecore/certificates/ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a>,
                              <a href="../../../../../cesecore/keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a>,
                              <a href="../../../../../cesecore/certificates/ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a>,
                              <a href="../../../../../cesecore/certificates/ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a>,
                              <a href="../../../../../cesecore/certificates/ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a>,
                              <a href="../../../model/ca/AuthStatusException.html" title="class in org.ejbca.core.model.ca">AuthStatusException</a>,
                              <a href="../../../model/ca/AuthLoginException.html" title="class in org.ejbca.core.model.ca">AuthLoginException</a>,
                              <a href="../../ra/NoSuchEndEntityException.html" title="class in org.ejbca.core.ejb.ra">NoSuchEndEntityException</a></pre>
<div class="block">Requests for a certificate to be created for the passed public key with default key usage
 The method queries the user database for authorization of the user.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - Information about the administrator or admin performing the event.</dd>
<dd><code>username</code> - unique username within the instance.</dd>
<dd><code>password</code> - password for the user.</dd>
<dd><code>pk</code> - the public key to be put in the created certificate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The newly created certificate or null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - (rollback) if admin is not authorized to issue this certificate</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a></code> - if the CA defined by caId doesn't exist.</dd>
<dd><code><a href="../../../model/ca/AuthStatusException.html" title="class in org.ejbca.core.model.ca">AuthStatusException</a></code> - If the users status is incorrect.</dd>
<dd><code><a href="../../../model/ca/AuthLoginException.html" title="class in org.ejbca.core.model.ca">AuthLoginException</a></code> - If the password is incorrect.</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a></code> - if the signing algorithm in the certificate profile (or the CA Token if not found) was invalid.</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a></code> - if the CA was offline</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a></code> - if the validity defined by notBefore and notAfter was invalid</dd>
<dd><code><a href="../../../../../cesecore/keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a></code> - if the crypto token for the CA wasn't found</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a></code> - if certificate with same subject DN or key already exists for a user, if these limitations are enabled in CA.</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a></code> - (rollback) if certificate was meant to be issued revoked, but could not.</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a></code> - if the certificate request contained an illegal name</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></code> - (rollback) if certificate couldn't be created.</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a></code> - if the public key didn't conform to the constrains of the CA's certificate profile.</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a></code> - (no rollback) if custom serial number is registered for user, but it is not allowed to be used (either
             missing unique index in database, or certificate profile does not allow it</dd>
<dd><code><a href="../../ra/NoSuchEndEntityException.html" title="class in org.ejbca.core.ejb.ra">NoSuchEndEntityException</a></code> - if the end entity was not found</dd>
</dl>
</li>
</ul>
<a id="createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,java.security.PublicKey,int,java.util.Date,java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCertificate</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;createCertificate&#8203;(<a href="../../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;password,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/PublicKey.html?is-external=true" title="class or interface in java.security" class="externalLink">PublicKey</a>&nbsp;pk,
                              int&nbsp;keyusage,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notBefore,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notAfter)
                       throws <a href="../../../../../cesecore/certificates/ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a>,
                              <a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a>,
                              <a href="../../../model/ca/AuthStatusException.html" title="class in org.ejbca.core.model.ca">AuthStatusException</a>,
                              <a href="../../../model/ca/AuthLoginException.html" title="class in org.ejbca.core.model.ca">AuthLoginException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a>,
                              <a href="../../../../../cesecore/certificates/ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a>,
                              <a href="../../../../../cesecore/keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a>,
                              <a href="../../../../../cesecore/certificates/ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a>,
                              <a href="../../../../../cesecore/certificates/ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a>,
                              <a href="../../../../../cesecore/certificates/ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a>,
                              <a href="../../ra/NoSuchEndEntityException.html" title="class in org.ejbca.core.ejb.ra">NoSuchEndEntityException</a></pre>
<div class="block">Requests for a certificate to be created for the passed public key with the passed key
 usage. The method queries the user database for authorization of the user. CAs are only
 allowed to have certificateSign and CRLSign set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - Information about the administrator or admin performing the event.</dd>
<dd><code>username</code> - unique username within the instance.</dd>
<dd><code>password</code> - password for the user.</dd>
<dd><code>pk</code> - the public key to be put in the created certificate.</dd>
<dd><code>keyusage</code> - integer with bit mask describing desired keys usage, overrides keyUsage from
                 CertificateProfiles if allowed. Bit mask is packed in in integer using constants
                 from CertificateData. -1 means use default keyUsage from CertificateProfile. ex. int
                 keyusage = CertificateData.digitalSignature | CertificateData.nonRepudiation; gives
                 digitalSignature and nonRepudiation. ex. int keyusage = CertificateData.keyCertSign
                 | CertificateData.cRLSign; gives keyCertSign and cRLSign</dd>
<dd><code>notBefore</code> - daye</dd>
<dd><code>notAfter</code> - an optional validity to set in the created certificate, if the profile allows validity override, null if the profiles default validity should be used.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The newly created certificate or null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../ra/NoSuchEndEntityException.html" title="class in org.ejbca.core.ejb.ra">NoSuchEndEntityException</a></code> - if the user does not exist.</dd>
<dd><code><a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - (rollback) if admin is not authorized to issue this certificate</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a></code> - if the CA defined by caId doesn't exist.</dd>
<dd><code><a href="../../../model/ca/AuthStatusException.html" title="class in org.ejbca.core.model.ca">AuthStatusException</a></code> - If the users status is incorrect.</dd>
<dd><code><a href="../../../model/ca/AuthLoginException.html" title="class in org.ejbca.core.model.ca">AuthLoginException</a></code> - If the password is incorrect.</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a></code> - if the signing algorithm in the certificate profile (or the CA Token if not found) was invalid.</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a></code> - if the CA was offline</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a></code> - if the validity defined by notBefore and notAfter was invalid</dd>
<dd><code><a href="../../../../../cesecore/keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a></code> - if the crypto token for the CA wasn't found</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a></code> - if certificate with same subject DN or key already exists for a user, if these limitations are enabled in CA.</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a></code> - (rollback) if certificate was meant to be issued revoked, but could not.</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a></code> - if the certificate request contained an illegal name</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></code> - (rollback) if certificate couldn't be created.</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a></code> - if the public key didn't conform to the constrains of the CA's certificate profile.</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a></code> - (no rollback) if custom serial number is registered for user, but it is not allowed to be used (either
             missing unique index in database, or certificate profile does not allow it</dd>
</dl>
</li>
</ul>
<a id="createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String,java.security.PublicKey,int,java.util.Date,java.util.Date,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCertificate</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;createCertificate&#8203;(<a href="../../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;password,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/PublicKey.html?is-external=true" title="class or interface in java.security" class="externalLink">PublicKey</a>&nbsp;pk,
                              int&nbsp;keyusage,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notBefore,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notAfter,
                              int&nbsp;certificateprofileid,
                              int&nbsp;caid)
                       throws <a href="../../../../../cesecore/certificates/ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a>,
                              <a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a>,
                              <a href="../../../model/ca/AuthStatusException.html" title="class in org.ejbca.core.model.ca">AuthStatusException</a>,
                              <a href="../../../model/ca/AuthLoginException.html" title="class in org.ejbca.core.model.ca">AuthLoginException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a>,
                              <a href="../../../../../cesecore/certificates/ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a>,
                              <a href="../../../../../cesecore/keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a>,
                              <a href="../../../../../cesecore/certificates/ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a>,
                              <a href="../../../../../cesecore/certificates/ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a>,
                              <a href="../../../../../cesecore/certificates/ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a>,
                              <a href="../../../../../cesecore/certificates/certificate/exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a>,
                              <a href="../../ra/NoSuchEndEntityException.html" title="class in org.ejbca.core.ejb.ra">NoSuchEndEntityException</a></pre>
<div class="block">Requests for a certificate to be created for the passed public key with the passed key
 usage and using the given certificate profile. This method is primarily intended to be used when
 issuing hardtokens having multiple certificates per user.
 The method queries the user database for authorization of the user. CAs are only
 allowed to have certificateSign and CRLSign set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - Information about the administrator or admin performing the event.</dd>
<dd><code>username</code> - unique username within the instance.</dd>
<dd><code>password</code> - password for the user.</dd>
<dd><code>pk</code> - the public key to be put in the created certificate.</dd>
<dd><code>keyusage</code> - integer with bit mask describing desired keys usage, overrides keyUsage from
                             CertificateProfiles if allowed. Bit mask is packed in in integer using constants
                             from org.bouncycastle.jce.X509KeyUsage. -1 means use default keyUsage from CertificateProfile. ex. int
                             keyusage = X509KeyUsage.digitalSignature | X509KeyUsage.nonRepudiation; gives
                             digitalSignature and nonRepudiation. ex. int keyusage = X509KeyUsage.keyCertSign
                             | X509KeyUsage.cRLSign; gives keyCertSign and cRLSign</dd>
<dd><code>notBefore</code> - an optional validity to set in the created certificate, if the profile allows validity override, null if the profiles default validity should be used.</dd>
<dd><code>notAfter</code> - an optional validity to set in the created certificate, if the profile allows validity override, null if the profiles default validity should be used.</dd>
<dd><code>certificateprofileid</code> - used to override the one set in userdata.
                             Should be set to CertificateProfileConstants.CERTPROFILE_NO_PROFILE if the usedata certificateprofileid should be used</dd>
<dd><code>caid</code> - used to override the one set in userdata.
                             Should be set to SecConst.CAID_USEUSERDEFINED if the regular certificateprofileid should be used</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The newly created certificate or null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - (rollback) if admin is not authorized to issue this certificate</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a></code> - if the CA defined by caId doesn't exist.</dd>
<dd><code><a href="../../../model/ca/AuthStatusException.html" title="class in org.ejbca.core.model.ca">AuthStatusException</a></code> - If the users status is incorrect.</dd>
<dd><code><a href="../../../model/ca/AuthLoginException.html" title="class in org.ejbca.core.model.ca">AuthLoginException</a></code> - If the password is incorrect.</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a></code> - if the signing algorithm in the certificate profile (or the CA Token if not found) was invalid.</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a></code> - if the CA was offline</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a></code> - if the validity defined by notBefore and notAfter was invalid</dd>
<dd><code><a href="../../../../../cesecore/keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a></code> - if the crypto token for the CA wasn't found</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a></code> - if certificate with same subject DN or key already exists for a user, if these limitations are enabled in CA.</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a></code> - (rollback) if certificate was meant to be issued revoked, but could not.</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a></code> - if the certificate request contained an illegal name</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></code> - (rollback) if certificate couldn't be created.</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a></code> - if the public key didn't conform to the constrains of the CA's certificate profile.</dd>
<dd><code><a href="../../../../../cesecore/certificates/certificate/exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a></code> - (no rollback) if custom serial number is registered for user, but it is not allowed to be used (either
             missing unique index in database, or certificate profile does not allow it</dd>
<dd><code><a href="../../ra/NoSuchEndEntityException.html" title="class in org.ejbca.core.ejb.ra">NoSuchEndEntityException</a></code> - if the user does not exist.</dd>
</dl>
</li>
</ul>
<a id="signPayload(byte[],int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>signPayload</h4>
<pre class="methodSignature">byte[]&nbsp;signPayload&#8203;(byte[]&nbsp;data,
                   int&nbsp;signingCaId)
            throws <a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a>,
                   <a href="../../../../../cesecore/keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a>,
                   <a href="../../../../../cesecore/certificates/ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a>,
                   <a href="../../../../../cesecore/certificates/ca/SignRequestSignatureException.html" title="class in org.cesecore.certificates.ca">SignRequestSignatureException</a></pre>
<div class="block">Signs the provided payload using the given CA's signing keys.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - a byte array of the data to be signed</dd>
<dd><code>signingCaId</code> - the name of the CA</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an encoded CMSSignedData of the original payload</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../cesecore/authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - if the authentication token was not authorized to the given CA</dd>
<dd><code><a href="../../../../../cesecore/keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a></code> - if the crypto token was offline</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a></code> - if a CA by the given name doesn't exist.</dd>
<dd><code><a href="../../../../../cesecore/certificates/ca/SignRequestSignatureException.html" title="class in org.cesecore.certificates.ca">SignRequestSignatureException</a></code> - if an error occurred during the signature process.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SignSessionLocal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2020. All rights reserved.</small></p>
</footer>
</body>
</html>