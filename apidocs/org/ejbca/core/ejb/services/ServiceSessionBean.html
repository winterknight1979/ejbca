<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.8) on Wed Sep 30 22:45:58 UTC 2020 -->
<title>ServiceSessionBean (EJB-CA 1.0.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-09-30">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ServiceSessionBean (EJB-CA 1.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServiceSessionBean.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.ejbca.core.ejb.services</a></div>
<h2 title="Class ServiceSessionBean" class="title">Class ServiceSessionBean</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.ejbca.core.ejb.services.ServiceSessionBean</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code>, <code><a href="ServiceSessionLocal.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionLocal</a></code>, <code><a href="ServiceSessionRemote.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionRemote</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">ServiceSessionBean</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="ServiceSessionLocal.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionLocal</a>, <a href="ServiceSessionRemote.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionRemote</a></pre>
<div class="block">Session bean that handles adding and editing services as displayed in EJBCA. This bean manages the service configuration as stored in the database,
 and executes services at timeouts triggered by the timeoutHandler.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id: ServiceSessionBean.java 34133 2019-12-19 14:28:28Z anatom $</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">ServiceSessionBean</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#activateServiceTimer(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String)">activateServiceTimer</a></span>&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Activates the timer for a named service.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addService(org.cesecore.authentication.tokens.AuthenticationToken,int,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration)">addService</a></span>&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
          int&nbsp;id,
          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
          <a href="../../model/services/ServiceConfiguration.html" title="class in org.ejbca.core.model.services">ServiceConfiguration</a>&nbsp;serviceConfiguration)</code></th>
<td class="colLast">
<div class="block">Adds a service to the database.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration)">addService</a></span>&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
          <a href="../../model/services/ServiceConfiguration.html" title="class in org.ejbca.core.model.services">ServiceConfiguration</a>&nbsp;serviceConfiguration)</code></th>
<td class="colLast">
<div class="block">Adds a Service to the database.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cancelTimer(java.lang.Integer)">cancelTimer</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Cancels all existing timeouts for this id.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#changeService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration,boolean)">changeService</a></span>&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
             <a href="../../model/services/ServiceConfiguration.html" title="class in org.ejbca.core.model.services">ServiceConfiguration</a>&nbsp;serviceConfiguration,
             boolean&nbsp;noLogging)</code></th>
<td class="colLast">
<div class="block">Updates service configuration, but does not re-set the timer</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cloneService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String)">cloneService</a></span>&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
            <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;oldname,
            <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;newname)</code></th>
<td class="colLast">
<div class="block">Adds a service with the same content as the original.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ejbCreate()">ejbCreate</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeServiceInNoTransaction(org.ejbca.core.model.services.IWorker,java.lang.String)">executeServiceInNoTransaction</a></span>&#8203;(<a href="../../model/services/IWorker.html" title="interface in org.ejbca.core.model.services">IWorker</a>&nbsp;worker,
                             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;serviceName)</code></th>
<td class="colLast">
<div class="block">Executes a the service in a separate in no transaction.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNewServiceTimeouts(java.util.HashSet)">getNewServiceTimeouts</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashSet.html?is-external=true" title="class or interface in java.util" class="externalLink">HashSet</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html?is-external=true" title="class or interface in java.io" class="externalLink">Serializable</a>&gt;&nbsp;existingTimers)</code></th>
<td class="colLast">
<div class="block">Internal method used from load() to separate timer access from database
 access transactions.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../model/services/ServiceConfiguration.html" title="class in org.ejbca.core.model.services">ServiceConfiguration</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getService(java.lang.String)">getService</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Retrieves a named service.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../model/services/ServiceConfiguration.html" title="class in org.ejbca.core.model.services">ServiceConfiguration</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getServiceConfiguration(int)">getServiceConfiguration</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Finds a service configuration by id.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getServiceId(java.lang.String)">getServiceId</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Returns a service id, given it's service name</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html?is-external=true" title="class or interface in java.util" class="externalLink">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getServiceIdToNameMap()">getServiceIdToNameMap</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getServiceInterval(java.lang.Integer)">getServiceInterval</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;serviceId)</code></th>
<td class="colLast">
<div class="block">Return the configured interval for the specified worker or
 IInterval.DONT_EXECUTE if it could not be found.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getServiceName(int)">getServiceName</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Returns a Service name given its id.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getServicesUsingCertificateProfile(java.lang.Integer)">getServicesUsingCertificateProfile</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;certificateProfileId)</code></th>
<td class="colLast">
<div class="block">Checks if a list of certificate profiles is used by any service.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getVisibleServiceIds()">getVisibleServiceIds</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieves a Collection of id:s (Integer) to visible services.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../model/services/IWorker.html" title="interface in org.ejbca.core.model.services">IWorker</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getWorkerIfItShouldRun(java.lang.Integer,long)">getWorkerIfItShouldRun</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;serviceId,
                      long&nbsp;nextTimeout)</code></th>
<td class="colLast">
<div class="block">Reads the current timeStamp values and tries to update them in a single transaction.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../model/services/IWorker.html" title="interface in org.ejbca.core.model.services">IWorker</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getWorkerIfItShouldRun(java.lang.Integer,long,boolean)">getWorkerIfItShouldRun</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;serviceId,
                      long&nbsp;nextTimeout,
                      boolean&nbsp;testRunOnOtherNode)</code></th>
<td class="colLast">
<div class="block">As above but used to JUnit testing to be able to "fake" that the service was running on another node 
 Should only be used for testing the logic</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#load()">load</a></span>()</code></th>
<td class="colLast">
<div class="block">Loads and activates all the services from database that are active.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String)">removeService</a></span>&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Removes a service from the database.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#renameService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String)">renameService</a></span>&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;oldname,
             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;newname)</code></th>
<td class="colLast">
<div class="block">Renames a service.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#timeoutHandler(javax.ejb.Timer)">timeoutHandler</a></span>&#8203;(javax.ejb.Timer&nbsp;timer)</code></th>
<td class="colLast">
<div class="block">Method implemented from the TimerObject and is the main method of this session bean.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unload()">unload</a></span>()</code></th>
<td class="colLast">
<div class="block">Cancels all existing timers a unload.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ServiceSessionBean</h4>
<pre>public&nbsp;ServiceSessionBean()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="ejbCreate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ejbCreate</h4>
<pre class="methodSignature">@PostConstruct
public&nbsp;void&nbsp;ejbCreate()</pre>
</li>
</ul>
<a id="addService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addService</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addService&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                       <a href="../../model/services/ServiceConfiguration.html" title="class in org.ejbca.core.model.services">ServiceConfiguration</a>&nbsp;serviceConfiguration)
                throws <a href="../../model/services/ServiceExistsException.html" title="class in org.ejbca.core.model.services">ServiceExistsException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#addService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration)">ServiceSession</a></code></span></div>
<div class="block">Adds a Service to the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#addService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration)">addService</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - admin</dd>
<dd><code>name</code> - name</dd>
<dd><code>serviceConfiguration</code> - config</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../model/services/ServiceExistsException.html" title="class in org.ejbca.core.model.services">ServiceExistsException</a></code> - if service already exists.</dd>
</dl>
</li>
</ul>
<a id="addService(org.cesecore.authentication.tokens.AuthenticationToken,int,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addService</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addService&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                       int&nbsp;id,
                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                       <a href="../../model/services/ServiceConfiguration.html" title="class in org.ejbca.core.model.services">ServiceConfiguration</a>&nbsp;serviceConfiguration)
                throws <a href="../../model/services/ServiceExistsException.html" title="class in org.ejbca.core.model.services">ServiceExistsException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#addService(org.cesecore.authentication.tokens.AuthenticationToken,int,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration)">ServiceSession</a></code></span></div>
<div class="block">Adds a service to the database. Used for importing and exporting profiles
 from xml-files.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#addService(org.cesecore.authentication.tokens.AuthenticationToken,int,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration)">addService</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - admin</dd>
<dd><code>id</code> - id</dd>
<dd><code>name</code> - name</dd>
<dd><code>serviceConfiguration</code> - config</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../model/services/ServiceExistsException.html" title="class in org.ejbca.core.model.services">ServiceExistsException</a></code> - if service already exists.</dd>
</dl>
</li>
</ul>
<a id="cloneService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cloneService</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;cloneService&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;oldname,
                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;newname)
                  throws <a href="../../model/services/ServiceExistsException.html" title="class in org.ejbca.core.model.services">ServiceExistsException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#cloneService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String)">ServiceSession</a></code></span></div>
<div class="block">Adds a service with the same content as the original.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#cloneService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String)">cloneService</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - admin</dd>
<dd><code>oldname</code> - name</dd>
<dd><code>newname</code> - name</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../model/services/ServiceExistsException.html" title="class in org.ejbca.core.model.services">ServiceExistsException</a></code> - if service already exists.</dd>
</dl>
</li>
</ul>
<a id="removeService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeService</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;removeService&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#removeService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String)">ServiceSession</a></code></span></div>
<div class="block">Removes a service from the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#removeService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String)">removeService</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - admin</dd>
<dd><code>name</code> - name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>bool</dd>
</dl>
</li>
</ul>
<a id="renameService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameService</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;renameService&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;oldname,
                          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;newname)
                   throws <a href="../../model/services/ServiceExistsException.html" title="class in org.ejbca.core.model.services">ServiceExistsException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#renameService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String)">ServiceSession</a></code></span></div>
<div class="block">Renames a service.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#renameService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,java.lang.String)">renameService</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - admin</dd>
<dd><code>oldname</code> - name</dd>
<dd><code>newname</code> - name</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../model/services/ServiceExistsException.html" title="class in org.ejbca.core.model.services">ServiceExistsException</a></code> - if service already exists.</dd>
</dl>
</li>
</ul>
<a id="getVisibleServiceIds()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVisibleServiceIds</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;getVisibleServiceIds()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#getVisibleServiceIds()">ServiceSession</a></code></span></div>
<div class="block">Retrieves a Collection of id:s (Integer) to visible services.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#getVisibleServiceIds()">getVisibleServiceIds</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Collection of id:s (Integer)</dd>
</dl>
</li>
</ul>
<a id="getService(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getService</h4>
<pre class="methodSignature">public&nbsp;<a href="../../model/services/ServiceConfiguration.html" title="class in org.ejbca.core.model.services">ServiceConfiguration</a>&nbsp;getService&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#getService(java.lang.String)">ServiceSession</a></code></span></div>
<div class="block">Retrieves a named service.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#getService(java.lang.String)">getService</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the service configuration or null if it doesn't exist.</dd>
</dl>
</li>
</ul>
<a id="getServiceId(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceId</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getServiceId&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#getServiceId(java.lang.String)">ServiceSession</a></code></span></div>
<div class="block">Returns a service id, given it's service name</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#getServiceId(java.lang.String)">getServiceId</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id or 0 if the service cannot be found.</dd>
</dl>
</li>
</ul>
<a id="activateServiceTimer(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activateServiceTimer</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;activateServiceTimer&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#activateServiceTimer(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String)">ServiceSession</a></code></span></div>
<div class="block">Activates the timer for a named service. The service must already be
 previously added.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#activateServiceTimer(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String)">activateServiceTimer</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - The administrator performing the action</dd>
<dd><code>name</code> - the name of the service for which to activate the timer</dd>
</dl>
</li>
</ul>
<a id="getServiceName(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceName</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getServiceName&#8203;(int&nbsp;id)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#getServiceName(int)">ServiceSession</a></code></span></div>
<div class="block">Returns a Service name given its id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#getServiceName(int)">getServiceName</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name or null if id does not exist</dd>
</dl>
</li>
</ul>
<a id="timeoutHandler(javax.ejb.Timer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeoutHandler</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;timeoutHandler&#8203;(javax.ejb.Timer&nbsp;timer)</pre>
<div class="block">Method implemented from the TimerObject and is the main method of this session bean. It calls the work object for each object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSessionLocal.html#timeoutHandler(javax.ejb.Timer)">timeoutHandler</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSessionLocal.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionLocal</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timer</code> - timer whose expiration caused this notification.</dd>
</dl>
</li>
</ul>
<a id="getWorkerIfItShouldRun(java.lang.Integer,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkerIfItShouldRun</h4>
<pre class="methodSignature">public&nbsp;<a href="../../model/services/IWorker.html" title="interface in org.ejbca.core.model.services">IWorker</a>&nbsp;getWorkerIfItShouldRun&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;serviceId,
                                      long&nbsp;nextTimeout)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSessionLocal.html#getWorkerIfItShouldRun(java.lang.Integer,long)">ServiceSessionLocal</a></code></span></div>
<div class="block">Reads the current timeStamp values and tries to update them in a single transaction.
 If the database commit is successful the method returns the worker, otherwise null.
 Could throw a runtime exception if there are database errors, so these should be caught.
 
 Should only be called from timeoutHandler</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSessionLocal.html#getWorkerIfItShouldRun(java.lang.Integer,long)">getWorkerIfItShouldRun</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSessionLocal.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionLocal</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serviceId</code> - the ID of the service to check</dd>
<dd><code>nextTimeout</code> - the next time the service should run</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>IWorker if it should run, null otherwise</dd>
</dl>
</li>
</ul>
<a id="getWorkerIfItShouldRun(java.lang.Integer,long,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkerIfItShouldRun</h4>
<pre class="methodSignature">public&nbsp;<a href="../../model/services/IWorker.html" title="interface in org.ejbca.core.model.services">IWorker</a>&nbsp;getWorkerIfItShouldRun&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;serviceId,
                                      long&nbsp;nextTimeout,
                                      boolean&nbsp;testRunOnOtherNode)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSessionLocal.html#getWorkerIfItShouldRun(java.lang.Integer,long,boolean)">ServiceSessionLocal</a></code></span></div>
<div class="block">As above but used to JUnit testing to be able to "fake" that the service was running on another node 
 Should only be used for testing the logic</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSessionLocal.html#getWorkerIfItShouldRun(java.lang.Integer,long,boolean)">getWorkerIfItShouldRun</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSessionLocal.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionLocal</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serviceId</code> - ID</dd>
<dd><code>nextTimeout</code> - timeout</dd>
<dd><code>testRunOnOtherNode</code> - set to true to force the service to believe it has been running on another node</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>worker</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ServiceSessionLocal.html#getWorkerIfItShouldRun(java.lang.Integer,long)"><code>ServiceSessionLocal.getWorkerIfItShouldRun(Integer, long)</code></a></dd>
</dl>
</li>
</ul>
<a id="executeServiceInNoTransaction(org.ejbca.core.model.services.IWorker,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeServiceInNoTransaction</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;executeServiceInNoTransaction&#8203;(<a href="../../model/services/IWorker.html" title="interface in org.ejbca.core.model.services">IWorker</a>&nbsp;worker,
                                          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;serviceName)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSessionLocal.html#executeServiceInNoTransaction(org.ejbca.core.model.services.IWorker,java.lang.String)">ServiceSessionLocal</a></code></span></div>
<div class="block">Executes a the service in a separate in no transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSessionLocal.html#executeServiceInNoTransaction(org.ejbca.core.model.services.IWorker,java.lang.String)">executeServiceInNoTransaction</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSessionLocal.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionLocal</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>worker</code> - worker</dd>
<dd><code>serviceName</code> - name</dd>
</dl>
</li>
</ul>
<a id="changeService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeService</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;changeService&#8203;(<a href="../../../../cesecore/authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                          <a href="../../model/services/ServiceConfiguration.html" title="class in org.ejbca.core.model.services">ServiceConfiguration</a>&nbsp;serviceConfiguration,
                          boolean&nbsp;noLogging)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#changeService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration,boolean)">ServiceSession</a></code></span></div>
<div class="block">Updates service configuration, but does not re-set the timer</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#changeService(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,org.ejbca.core.model.services.ServiceConfiguration,boolean)">changeService</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - admin</dd>
<dd><code>name</code> - name</dd>
<dd><code>serviceConfiguration</code> - config</dd>
<dd><code>noLogging</code> - if true no logging to the database will be done</dd>
</dl>
</li>
</ul>
<a id="load()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;load()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#load()">ServiceSession</a></code></span></div>
<div class="block">Loads and activates all the services from database that are active.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#load()">load</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
</dl>
</li>
</ul>
<a id="getNewServiceTimeouts(java.util.HashSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewServiceTimeouts</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&gt;&nbsp;getNewServiceTimeouts&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashSet.html?is-external=true" title="class or interface in java.util" class="externalLink">HashSet</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html?is-external=true" title="class or interface in java.io" class="externalLink">Serializable</a>&gt;&nbsp;existingTimers)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSessionLocal.html#getNewServiceTimeouts(java.util.HashSet)">ServiceSessionLocal</a></code></span></div>
<div class="block">Internal method used from load() to separate timer access from database
 access transactions.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSessionLocal.html#getNewServiceTimeouts(java.util.HashSet)">getNewServiceTimeouts</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSessionLocal.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionLocal</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>existingTimers</code> - timer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>map</dd>
</dl>
</li>
</ul>
<a id="unload()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unload</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;unload()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#unload()">ServiceSession</a></code></span></div>
<div class="block">Cancels all existing timers a unload.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#unload()">unload</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
</dl>
</li>
</ul>
<a id="cancelTimer(java.lang.Integer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelTimer</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;cancelTimer&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;id)</pre>
<div class="block">Cancels all existing timeouts for this id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSessionLocal.html#cancelTimer(java.lang.Integer)">cancelTimer</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSessionLocal.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionLocal</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the timer</dd>
</dl>
</li>
</ul>
<a id="getServiceInterval(java.lang.Integer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceInterval</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getServiceInterval&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;serviceId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSessionLocal.html#getServiceInterval(java.lang.Integer)">ServiceSessionLocal</a></code></span></div>
<div class="block">Return the configured interval for the specified worker or
 IInterval.DONT_EXECUTE if it could not be found.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSessionLocal.html#getServiceInterval(java.lang.Integer)">getServiceInterval</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSessionLocal.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionLocal</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serviceId</code> - id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>interval</dd>
</dl>
</li>
</ul>
<a id="getServiceConfiguration(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceConfiguration</h4>
<pre class="methodSignature">public&nbsp;<a href="../../model/services/ServiceConfiguration.html" title="class in org.ejbca.core.model.services">ServiceConfiguration</a>&nbsp;getServiceConfiguration&#8203;(int&nbsp;id)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#getServiceConfiguration(int)">ServiceSession</a></code></span></div>
<div class="block">Finds a service configuration by id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#getServiceConfiguration(int)">getServiceConfiguration</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the service configuration or null if it doesn't exist.</dd>
</dl>
</li>
</ul>
<a id="getServiceIdToNameMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceIdToNameMap</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html?is-external=true" title="class or interface in java.util" class="externalLink">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;getServiceIdToNameMap()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSessionLocal.html#getServiceIdToNameMap()">getServiceIdToNameMap</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSessionLocal.html" title="interface in org.ejbca.core.ejb.services">ServiceSessionLocal</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>HashMap mapping service id (Integer) to service name (String).</dd>
</dl>
</li>
</ul>
<a id="getServicesUsingCertificateProfile(java.lang.Integer)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getServicesUsingCertificateProfile</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;getServicesUsingCertificateProfile&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;certificateProfileId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ServiceSession.html#getServicesUsingCertificateProfile(java.lang.Integer)">ServiceSession</a></code></span></div>
<div class="block">Checks if a list of certificate profiles is used by any service.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ServiceSession.html#getServicesUsingCertificateProfile(java.lang.Integer)">getServicesUsingCertificateProfile</a></code>&nbsp;in interface&nbsp;<code><a href="ServiceSession.html" title="interface in org.ejbca.core.ejb.services">ServiceSession</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>certificateProfileId</code> - IDs of the certificate profile to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of ServiceData objects using the given ID, or an empty list if nothing is found</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServiceSessionBean.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2020. All rights reserved.</small></p>
</footer>
</body>
</html>