<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Fri Sep 25 20:04:14 BST 2020 -->
<title>CertificateCreateSessionLocal (EJB-CA 1.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-09-25">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CertificateCreateSessionLocal (EJB-CA 1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CertificateCreateSessionLocal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.cesecore.certificates.certificate</a></div>
<h2 title="Interface CertificateCreateSessionLocal" class="title">Interface CertificateCreateSessionLocal</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="CertificateCreateSession.html" title="interface in org.cesecore.certificates.certificate">CertificateCreateSession</a></code></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="CertificateCreateSessionBean.html" title="class in org.cesecore.certificates.certificate">CertificateCreateSessionBean</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">CertificateCreateSessionLocal</span>
extends <a href="CertificateCreateSession.html" title="interface in org.cesecore.certificates.certificate">CertificateCreateSession</a></pre>
<div class="block">Local interface for CertificateCreateSession.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id: CertificateCreateSessionLocal.java 27620 2017-12-21 10:27:29Z mikekushner $</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#assertSubjectEnforcements(org.cesecore.certificates.ca.CAInfo,org.cesecore.certificates.endentity.EndEntityInformation)">assertSubjectEnforcements</a></span>&#8203;(<a href="../ca/CAInfo.html" title="class in org.cesecore.certificates.ca">CAInfo</a>&nbsp;caInfo,
                         <a href="../endentity/EndEntityInformation.html" title="class in org.cesecore.certificates.endentity">EndEntityInformation</a>&nbsp;endEntityInformation)</code></th>
<td class="colLast">
<div class="block">Performs SubjectDN checks</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#assertSubjectKeyIdEnforcements(org.cesecore.certificates.ca.CAInfo,org.cesecore.certificates.endentity.EndEntityInformation,java.security.PublicKey)">assertSubjectKeyIdEnforcements</a></span>&#8203;(<a href="../ca/CAInfo.html" title="class in org.cesecore.certificates.ca">CAInfo</a>&nbsp;caInfo,
                              <a href="../endentity/EndEntityInformation.html" title="class in org.cesecore.certificates.endentity">EndEntityInformation</a>&nbsp;endEntityInformation,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/PublicKey.html?is-external=true" title="class or interface in java.security" class="externalLink">PublicKey</a>&nbsp;publicKey)</code></th>
<td class="colLast">
<div class="block">Performs SubjectKeyId checks</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="request/CertificateResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">CertificateResponseMessage</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.endentity.EndEntityInformation,org.cesecore.certificates.ca.CA,org.cesecore.certificates.certificate.request.RequestMessage,java.lang.Class,org.cesecore.certificates.ca.CertificateGenerationParams,long)">createCertificate</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                 <a href="../endentity/EndEntityInformation.html" title="class in org.cesecore.certificates.endentity">EndEntityInformation</a>&nbsp;userData,
                 <a href="../ca/CA.html" title="class in org.cesecore.certificates.ca">CA</a>&nbsp;ca,
                 <a href="request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;req,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;? extends <a href="request/ResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">ResponseMessage</a>&gt;&nbsp;responseClass,
                 <a href="../ca/CertificateGenerationParams.html" title="class in org.cesecore.certificates.ca">CertificateGenerationParams</a>&nbsp;certGenParams,
                 long&nbsp;updateTime)</code></th>
<td class="colLast">
<div class="block">Creates the certificate.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.endentity.EndEntityInformation,org.cesecore.certificates.ca.CA,org.cesecore.certificates.certificate.request.RequestMessage,java.security.PublicKey,int,java.util.Date,java.util.Date,org.bouncycastle.asn1.x509.Extensions,java.lang.String,org.cesecore.certificates.ca.CertificateGenerationParams,long)">createCertificate</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                 <a href="../endentity/EndEntityInformation.html" title="class in org.cesecore.certificates.endentity">EndEntityInformation</a>&nbsp;data,
                 <a href="../ca/CA.html" title="class in org.cesecore.certificates.ca">CA</a>&nbsp;ca,
                 <a href="request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;request,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/PublicKey.html?is-external=true" title="class or interface in java.security" class="externalLink">PublicKey</a>&nbsp;pk,
                 int&nbsp;keyusage,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notBefore,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notAfter,
                 org.bouncycastle.asn1.x509.Extensions&nbsp;extensions,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;sequence,
                 <a href="../ca/CertificateGenerationParams.html" title="class in org.cesecore.certificates.ca">CertificateGenerationParams</a>&nbsp;certGenParams,
                 long&nbsp;updateTime)</code></th>
<td class="colLast">
<div class="block">Creates the certificate.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="request/CertificateResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">CertificateResponseMessage</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.endentity.EndEntityInformation,org.cesecore.certificates.certificate.request.RequestMessage,java.lang.Class,org.cesecore.certificates.ca.CertificateGenerationParams,long)">createCertificate</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                 <a href="../endentity/EndEntityInformation.html" title="class in org.cesecore.certificates.endentity">EndEntityInformation</a>&nbsp;userData,
                 <a href="request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;req,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;? extends <a href="request/ResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">ResponseMessage</a>&gt;&nbsp;responseClass,
                 <a href="../ca/CertificateGenerationParams.html" title="class in org.cesecore.certificates.ca">CertificateGenerationParams</a>&nbsp;certGenParams,
                 long&nbsp;updateTime)</code></th>
<td class="colLast">
<div class="block">Requests for a certificate to be created for the passed public key wrapped in a
 certification request message (ex PKCS10).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUniqueCertificateSerialNumberIndex()">isUniqueCertificateSerialNumberIndex</a></span>()</code></th>
<td class="colLast">
<div class="block">Helper method to check if there is a unique issuerDN/serialNumber index in the database</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.cesecore.certificates.certificate.CertificateCreateSession">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.cesecore.certificates.certificate.<a href="CertificateCreateSession.html" title="interface in org.cesecore.certificates.certificate">CertificateCreateSession</a></h3>
<code><a href="CertificateCreateSession.html#createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.endentity.EndEntityInformation,org.cesecore.certificates.certificate.request.RequestMessage,java.lang.Class,org.cesecore.certificates.ca.CertificateGenerationParams)">createCertificate</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="isUniqueCertificateSerialNumberIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUniqueCertificateSerialNumberIndex</h4>
<pre class="methodSignature">boolean&nbsp;isUniqueCertificateSerialNumberIndex()</pre>
<div class="block">Helper method to check if there is a unique issuerDN/serialNumber index in the database</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the index exists, false if not</dd>
</dl>
</li>
</ul>
<a id="createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.endentity.EndEntityInformation,org.cesecore.certificates.ca.CA,org.cesecore.certificates.certificate.request.RequestMessage,java.lang.Class,org.cesecore.certificates.ca.CertificateGenerationParams,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCertificate</h4>
<pre class="methodSignature"><a href="request/CertificateResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">CertificateResponseMessage</a>&nbsp;createCertificate&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                             <a href="../endentity/EndEntityInformation.html" title="class in org.cesecore.certificates.endentity">EndEntityInformation</a>&nbsp;userData,
                                             <a href="../ca/CA.html" title="class in org.cesecore.certificates.ca">CA</a>&nbsp;ca,
                                             <a href="request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;req,
                                             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;? extends <a href="request/ResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">ResponseMessage</a>&gt;&nbsp;responseClass,
                                             <a href="../ca/CertificateGenerationParams.html" title="class in org.cesecore.certificates.ca">CertificateGenerationParams</a>&nbsp;certGenParams,
                                             long&nbsp;updateTime)
                                      throws <a href="../../keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a>,
                                             <a href="../ca/SignRequestSignatureException.html" title="class in org.cesecore.certificates.ca">SignRequestSignatureException</a>,
                                             <a href="IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a>,
                                             <a href="../ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a>,
                                             <a href="exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a>,
                                             <a href="CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a>,
                                             <a href="CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a>,
                                             <a href="exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a>,
                                             <a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a>,
                                             <a href="../ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a>,
                                             <a href="../ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a>,
                                             <a href="../ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a>,
                                             <a href="certextensions/CertificateExtensionException.html" title="class in org.cesecore.certificates.certificate.certextensions">CertificateExtensionException</a></pre>
<div class="block">Creates the certificate. This is the same method as createCertificate(AuthenticationToken admin, EndEntityInformation userData, RequestMessage req, Class&lt;? extends ResponseMessage&gt; responseClass)
 but also taking a CA as argument. the reason for this is that if we already have fetched the CA, going through access control etc there is no need to do the same thing again.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - Information about the administrator or admin performing the event.</dd>
<dd><code>userData</code> - Supplied user data, containing the issuing CAid, subject DN etc. Must contain the following information
                      type, username, certificateProfileId. Optionally it contains:
                      subjectDN, required if certificateProfile does not allow subject DN override
                      caid, if not possible to get it from issuerDN of the request
                      extendedInformation</dd>
<dd><code>ca</code> - the CA that should issue the certificate</dd>
<dd><code>req</code> - a Certification Request message, containing the public key to be put in the
                      created certificate. Currently no additional parameters in requests are considered!</dd>
<dd><code>responseClass</code> - The implementation class that will be used as the response message.</dd>
<dd><code>certGenParams</code> - Parameters for certificate generation (e.g for the CT extension), or null.</dd>
<dd><code>updateTime</code> - the time when this operation takes place</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The newly created response or null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - (rollback) if admin is not authorized to issue this certificate</dd>
<dd><code><a href="../../keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a></code> - (no rollback) if token in the CA was unavailable.</dd>
<dd><code><a href="../ca/SignRequestSignatureException.html" title="class in org.cesecore.certificates.ca">SignRequestSignatureException</a></code> - (no rollback) if POPO verification on the request fails</dd>
<dd><code><a href="IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a></code> - (no rollback) if the passed in PublicKey does not fulfill requirements in CertificateProfile</dd>
<dd><code><a href="exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a></code> - if certificate with same subject DN or key already exists for a user, if these limitations are enabled in CA.</dd>
<dd><code><a href="CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a></code> - if certificate was meant to be issued revoked, but could not. Causes rollback.</dd>
<dd><code><a href="../ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a></code> - if the name specified in the certificate request contains illegal characters</dd>
<dd><code><a href="exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a></code> - (no rollback) if custom serial number is registered for user, but it is not allowed to be used (either missing unique index in database, or certificate profile does not allow it</dd>
<dd><code><a href="CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></code> - (rollback) (rollback) if certificate couldn't be created.</dd>
<dd><code><a href="certextensions/CertificateExtensionException.html" title="class in org.cesecore.certificates.certificate.certextensions">CertificateExtensionException</a></code> - if any if the extensions (contained in the request) were invalid</dd>
<dd><code><a href="../ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a></code> - if the validity defined by notBefore and notAfter was invalid</dd>
<dd><code><a href="../ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a></code> - if the CA was offline</dd>
<dd><code><a href="../ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a></code> - if the signing algorithm in the certificate profile (or the CA Token if not found) was invalid.</dd>
</dl>
</li>
</ul>
<a id="createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.endentity.EndEntityInformation,org.cesecore.certificates.certificate.request.RequestMessage,java.lang.Class,org.cesecore.certificates.ca.CertificateGenerationParams,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCertificate</h4>
<pre class="methodSignature"><a href="request/CertificateResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">CertificateResponseMessage</a>&nbsp;createCertificate&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                             <a href="../endentity/EndEntityInformation.html" title="class in org.cesecore.certificates.endentity">EndEntityInformation</a>&nbsp;userData,
                                             <a href="request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;req,
                                             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;? extends <a href="request/ResponseMessage.html" title="interface in org.cesecore.certificates.certificate.request">ResponseMessage</a>&gt;&nbsp;responseClass,
                                             <a href="../ca/CertificateGenerationParams.html" title="class in org.cesecore.certificates.ca">CertificateGenerationParams</a>&nbsp;certGenParams,
                                             long&nbsp;updateTime)
                                      throws <a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a>,
                                             <a href="exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a>,
                                             <a href="IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a>,
                                             <a href="../ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a>,
                                             <a href="CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a>,
                                             <a href="../../keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a>,
                                             <a href="../ca/SignRequestSignatureException.html" title="class in org.cesecore.certificates.ca">SignRequestSignatureException</a>,
                                             <a href="../ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a>,
                                             <a href="CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a>,
                                             <a href="exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a>,
                                             <a href="../ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a>,
                                             <a href="../ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a>,
                                             <a href="../ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a>,
                                             <a href="certextensions/CertificateExtensionException.html" title="class in org.cesecore.certificates.certificate.certextensions">CertificateExtensionException</a></pre>
<div class="block">Requests for a certificate to be created for the passed public key wrapped in a
 certification request message (ex PKCS10).  The username and password used to authorize is
 taken from the request message. Verification of the signature (proof-of-possesion) on the
 request is performed, and an exception thrown if verification fails. The method queries the
 user database for authorization of the user.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - Information about the administrator or admin performing the event.</dd>
<dd><code>userData</code> - Supplied user data, containing the issuing CAid, subject DN etc. Must contain the following information
                      type, username, certificateProfileId. Optionally it contains:
                      subjectDN, required if certificateProfile does not allow subject DN override
                      caid, if not possible to get it from issuerDN of the request
                      extendedInformation</dd>
<dd><code>req</code> - a Certification Request message, containing the public key to be put in the
                      created certificate. Currently no additional parameters in requests are considered!</dd>
<dd><code>responseClass</code> - The implementation class that will be used as the response message.</dd>
<dd><code>certGenParams</code> - Parameters for certificate generation (e.g for the CT extension), or null.</dd>
<dd><code>updateTime</code> - the time when this operation takes place</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The newly created response or null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - (rollback) if admin is not authorized to issue this certificate</dd>
<dd><code><a href="exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a></code> - (no rollback) if custom serial number is registered for user, but it is not allowed to be used (either missing unique index in database, 
     or certificate profile does not allow it</dd>
<dd><code><a href="IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a></code> - (no rollback) if the passed in PublicKey does not fulfill requirements in CertificateProfile</dd>
<dd><code><a href="CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></code> - (rollback) if another error occurs</dd>
<dd><code><a href="../ca/CADoesntExistsException.html" title="class in org.cesecore.certificates.ca">CADoesntExistsException</a></code> - (no rollback) if CA to issue certificate does not exist</dd>
<dd><code><a href="exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a></code> - if certificate with same subject DN or key already exists for a user, if these limitations are enabled in CA.</dd>
<dd><code><a href="CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a></code> - if certificate was meant to be issued revoked, but could not. Causes rollback.</dd>
<dd><code><a href="../ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a></code> - if the certificate request contained an illegal name</dd>
<dd><code><a href="../ca/SignRequestSignatureException.html" title="class in org.cesecore.certificates.ca">SignRequestSignatureException</a></code> - (no rollback) if POPO verification on the request fails</dd>
<dd><code><a href="../../keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a></code> - (no rollback) if token in the CA was unavailable.</dd>
<dd><code><a href="certextensions/CertificateExtensionException.html" title="class in org.cesecore.certificates.certificate.certextensions">CertificateExtensionException</a></code> - if any if the extensions were invalid</dd>
<dd><code><a href="../ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a></code> - if the validity defined by notBefore and notAfter was invalid</dd>
<dd><code><a href="../ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a></code> - if the CA was offline</dd>
<dd><code><a href="../ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a></code> - if the signing algorithm in the certificate profile (or the CA Token if not found) was invalid.</dd>
</dl>
</li>
</ul>
<a id="createCertificate(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.endentity.EndEntityInformation,org.cesecore.certificates.ca.CA,org.cesecore.certificates.certificate.request.RequestMessage,java.security.PublicKey,int,java.util.Date,java.util.Date,org.bouncycastle.asn1.x509.Extensions,java.lang.String,org.cesecore.certificates.ca.CertificateGenerationParams,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCertificate</h4>
<pre class="methodSignature"><a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a>&nbsp;createCertificate&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                         <a href="../endentity/EndEntityInformation.html" title="class in org.cesecore.certificates.endentity">EndEntityInformation</a>&nbsp;data,
                                         <a href="../ca/CA.html" title="class in org.cesecore.certificates.ca">CA</a>&nbsp;ca,
                                         <a href="request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;request,
                                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/PublicKey.html?is-external=true" title="class or interface in java.security" class="externalLink">PublicKey</a>&nbsp;pk,
                                         int&nbsp;keyusage,
                                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notBefore,
                                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;notAfter,
                                         org.bouncycastle.asn1.x509.Extensions&nbsp;extensions,
                                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;sequence,
                                         <a href="../ca/CertificateGenerationParams.html" title="class in org.cesecore.certificates.ca">CertificateGenerationParams</a>&nbsp;certGenParams,
                                         long&nbsp;updateTime)
                                  throws <a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a>,
                                         <a href="../ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a>,
                                         <a href="exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a>,
                                         <a href="CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a>,
                                         <a href="CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a>,
                                         <a href="exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a>,
                                         <a href="../../keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a>,
                                         <a href="IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a>,
                                         <a href="certextensions/CertificateExtensionException.html" title="class in org.cesecore.certificates.certificate.certextensions">CertificateExtensionException</a>,
                                         <a href="../ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a>,
                                         <a href="../ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a>,
                                         <a href="../ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a></pre>
<div class="block">Creates the certificate.
 Does check that admin is authorized to CA, even though it is passed as a parameter.
 Does check that admin has CREATE_CERTIFICATE right.
 Does check authorization on certificate profile, i.e. that the CA is among available CAs in the certificate profile.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - administrator performing this task</dd>
<dd><code>data</code> - auth data for user to get the certificate</dd>
<dd><code>ca</code> - the CA that will sign the certificate</dd>
<dd><code>request</code> - the requestMessage if the certificate profile allows subject DN override the request DN from this request will be used instead of the value from subject.getDN</dd>
<dd><code>pk</code> - the users public key to be put in the certificate</dd>
<dd><code>keyusage</code> - integer with bit mask describing desired keys usage, may be ignored by the CA. Bit mask is packed in in integer using constants
            from CertificateConstants. ex. int keyusage = CertificateConstants.digitalSignature | CertificateConstants.nonRepudiation; gives
            digitalSignature and nonRepudiation. ex. int keyusage = CertificateConstants.keyCertSign | CertificateConstants.cRLSign; gives
            keyCertSign and cRLSign. Keyusage &lt; 0 means that default keyUsage should be used, or should be taken from extensions in the request.</dd>
<dd><code>notBefore</code> - an optional validity to set in the created certificate, if the profile allows validity override, null if the profiles default
            validity should be used.</dd>
<dd><code>notAfter</code> - an optional validity to set in the created certificate, if the profile allows validity override, null if the profiles default
            validity should be used.</dd>
<dd><code>extensions</code> - an optional set of extensions to set in the created certificate, if the profile allows extension override, null if the
            profile default extensions should be used.</dd>
<dd><code>sequence</code> - an optional requested sequence number (serial number) for the certificate, may or may not be used by the CA. Currently used by
            CVC CAs for sequence field. Can be set to null.</dd>
<dd><code>certGenParams</code> - Parameters for certificate generation (e.g for the CT extension), or null.</dd>
<dd><code>updateTime</code> - the time when this operation takes place</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Certificate that has been generated and signed by the CA, contained in a CertificateDataWrapper</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - (rollback) if admin is not authorized to issue this certificate</dd>
<dd><code><a href="CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></code> - (rollback) if certificate couldn't be created.</dd>
<dd><code><a href="exception/CustomCertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CustomCertificateSerialNumberException</a></code> - (no rollback) if custom serial number is registered for user, but it is not allowed to be used (either
             missing unique index in database, or certificate profile does not allow it</dd>
<dd><code><a href="../ca/IllegalNameException.html" title="class in org.cesecore.certificates.ca">IllegalNameException</a></code> - if the certificate request contained an illegal name</dd>
<dd><code><a href="CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a></code> - (rollback) if certificate was meant to be issued revoked, but could not.</dd>
<dd><code><a href="exception/CertificateSerialNumberException.html" title="class in org.cesecore.certificates.certificate.exception">CertificateSerialNumberException</a></code> - if certificate with same subject DN or key already exists for a user, if these limitations are enabled in CA.</dd>
<dd><code><a href="../../keys/token/CryptoTokenOfflineException.html" title="class in org.cesecore.keys.token">CryptoTokenOfflineException</a></code> - if the crypto token for the CA wasn't found</dd>
<dd><code><a href="IllegalKeyException.html" title="class in org.cesecore.certificates.certificate">IllegalKeyException</a></code> - if the public key didn't conform to the constrains of the CA's certificate profile.</dd>
<dd><code><a href="certextensions/CertificateExtensionException.html" title="class in org.cesecore.certificates.certificate.certextensions">CertificateExtensionException</a></code> - if any if the extensions were invalid</dd>
<dd><code><a href="../ca/IllegalValidityException.html" title="class in org.cesecore.certificates.ca">IllegalValidityException</a></code> - if the validity defined by notBefore and notAfter was invalid</dd>
<dd><code><a href="../ca/CAOfflineException.html" title="class in org.cesecore.certificates.ca">CAOfflineException</a></code> - if the CA was offline</dd>
<dd><code><a href="../ca/InvalidAlgorithmException.html" title="class in org.cesecore.certificates.ca">InvalidAlgorithmException</a></code> - if the signing algorithm in the certificate profile (or the CA Token if not found) was invalid.</dd>
</dl>
</li>
</ul>
<a id="assertSubjectEnforcements(org.cesecore.certificates.ca.CAInfo,org.cesecore.certificates.endentity.EndEntityInformation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertSubjectEnforcements</h4>
<pre class="methodSignature">void&nbsp;assertSubjectEnforcements&#8203;(<a href="../ca/CAInfo.html" title="class in org.cesecore.certificates.ca">CAInfo</a>&nbsp;caInfo,
                               <a href="../endentity/EndEntityInformation.html" title="class in org.cesecore.certificates.endentity">EndEntityInformation</a>&nbsp;endEntityInformation)
                        throws <a href="CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></pre>
<div class="block">Performs SubjectDN checks</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>caInfo</code> - non-sensitive information</dd>
<dd><code>endEntityInformation</code> - user data</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></code> - if the certificate couldn't be created.</dd>
</dl>
</li>
</ul>
<a id="assertSubjectKeyIdEnforcements(org.cesecore.certificates.ca.CAInfo,org.cesecore.certificates.endentity.EndEntityInformation,java.security.PublicKey)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>assertSubjectKeyIdEnforcements</h4>
<pre class="methodSignature">void&nbsp;assertSubjectKeyIdEnforcements&#8203;(<a href="../ca/CAInfo.html" title="class in org.cesecore.certificates.ca">CAInfo</a>&nbsp;caInfo,
                                    <a href="../endentity/EndEntityInformation.html" title="class in org.cesecore.certificates.endentity">EndEntityInformation</a>&nbsp;endEntityInformation,
                                    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/PublicKey.html?is-external=true" title="class or interface in java.security" class="externalLink">PublicKey</a>&nbsp;publicKey)
                             throws <a href="CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></pre>
<div class="block">Performs SubjectKeyId checks</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>caInfo</code> - CA non-sensitive information</dd>
<dd><code>endEntityInformation</code> - user data</dd>
<dd><code>publicKey</code> - public key used for generating SubjectKeyId</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CertificateCreateException.html" title="class in org.cesecore.certificates.certificate">CertificateCreateException</a></code> - In fail</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CertificateCreateSessionLocal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2020. All rights reserved.</small></p>
</footer>
</body>
</html>