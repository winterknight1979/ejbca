<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.8) on Sat Sep 26 19:20:24 UTC 2020 -->
<title>CertificateStoreSessionLocal (EJB-CA 1.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-09-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CertificateStoreSessionLocal (EJB-CA 1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CertificateStoreSessionLocal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.cesecore.certificates.certificate</a></div>
<h2 title="Interface CertificateStoreSessionLocal" class="title">Interface CertificateStoreSessionLocal</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="CertificateStoreSession.html" title="interface in org.cesecore.certificates.certificate">CertificateStoreSession</a></code></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="CertificateStoreSessionBean.html" title="class in org.cesecore.certificates.certificate">CertificateStoreSessionBean</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">CertificateStoreSessionLocal</span>
extends <a href="CertificateStoreSession.html" title="interface in org.cesecore.certificates.certificate">CertificateStoreSession</a></pre>
<div class="block">Local interface for CertificateStoreSession.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id: CertificateStoreSessionLocal.java 28675 2018-04-12 08:09:35Z samuellb $</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkForUniqueCertificateSerialNumberIndexInTransaction(org.cesecore.authentication.tokens.AuthenticationToken,java.security.cert.Certificate,java.lang.String,java.lang.String,int,int,int,int,java.lang.String,long)">checkForUniqueCertificateSerialNumberIndexInTransaction</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;incert,
                                                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                                                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;cafp,
                                                       int&nbsp;status,
                                                       int&nbsp;type,
                                                       int&nbsp;certificateProfileId,
                                                       int&nbsp;endEntityProfileId,
                                                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tag,
                                                       long&nbsp;updateTime)</code></th>
<td class="colLast">
<div class="block">Checks for present certificate serial number unique index in a new transaction in order to avoid rollback, since we can expect SQL exceptions here.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#existsByIssuerAndSerno(java.lang.String,java.math.BigInteger)">existsByIssuerAndSerno</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDN,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html?is-external=true" title="class or interface in java.math" class="externalLink">BigInteger</a>&nbsp;serno)</code></th>
<td class="colLast">
<div class="block">Method for speedy checks if a certificate exists for issuerDN, serno</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findExpirationInfo(java.util.Collection,java.util.Collection,long,long,long)">findExpirationInfo</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;cas,
                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;certificateProfiles,
                  long&nbsp;activeNotifiedExpireDateMin,
                  long&nbsp;activeNotifiedExpireDateMax,
                  long&nbsp;activeExpireDateMin)</code></th>
<td class="colLast">
<div class="block">Fetch a List of all certificate fingerprints and corresponding username</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="CertificateInfo.html" title="class in org.cesecore.certificates.certificate">CertificateInfo</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findFirstCertificateInfo(java.lang.String,java.math.BigInteger)">findFirstCertificateInfo</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDN,
                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html?is-external=true" title="class or interface in java.math" class="externalLink">BigInteger</a>&nbsp;serno)</code></th>
<td class="colLast">
<div class="block">return CertificateInfo for the certificate with issuerDN and serno.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findMostRecentlyUpdatedActiveCertificate(byte%5B%5D)">findMostRecentlyUpdatedActiveCertificate</a></span>&#8203;(byte[]&nbsp;subjectKeyId)</code></th>
<td class="colLast">
<div class="block">Find the most recently issued/updated certificate for a public key</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findUsernameByFingerprint(java.lang.String)">findUsernameByFingerprint</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fingerprint)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCADnFromRequest(org.cesecore.certificates.certificate.request.RequestMessage)">getCADnFromRequest</a></span>&#8203;(<a href="request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;req)</code></th>
<td class="colLast">
<div class="block">Tries to get an issuerDN/serialNumber pair from the request, and see if we have that CA certificate in the certificate store.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCertificateData(java.lang.String)">getCertificateData</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fingerprint)</code></th>
<td class="colLast">
<div class="block">Retrieve the full wrapped CertificateData and Base64CertData objects.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCertificateDatasBySubject(java.lang.String)">getCertificateDatasBySubject</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;subjectDN)</code></th>
<td class="colLast">
<div class="block">Lists certificate datas for a given subject.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCertificateDatasBySubjectAndIssuer(java.lang.String,java.lang.String,boolean)">getCertificateDatasBySubjectAndIssuer</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;subjectDN,
                                     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDN,
                                     boolean&nbsp;onlyActive)</code></th>
<td class="colLast">
<div class="block">Lists certificate datas for a given subject signed by the given issuer.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFirstStatusByIssuerAndSerno(java.lang.String,java.math.BigInteger)">getFirstStatusByIssuerAndSerno</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDN,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html?is-external=true" title="class or interface in java.math" class="externalLink">BigInteger</a>&nbsp;serno)</code></th>
<td class="colLast">
<div class="block">Gets the status of the certificate, or -1 if the certificate does not exist.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initTimers()">initTimers</a></span>()</code></th>
<td class="colLast">
<div class="block">Initialize all timers and related operations used by this bean.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isOnlyUsernameForSubjectKeyIdOrDnAndIssuerDN(java.lang.String,byte%5B%5D,java.lang.String,java.lang.String)">isOnlyUsernameForSubjectKeyIdOrDnAndIssuerDN</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDN,
                                            byte[]&nbsp;subjectKeyId,
                                            <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;subjectDN,
                                            <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username)</code></th>
<td class="colLast">
<div class="block">Query if we have a clear cut case where no username or the provided username is the only user of the subjectDN and subjectKeyId.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUniqueCertificateSerialNumberIndex()">isUniqueCertificateSerialNumberIndex</a></span>()</code></th>
<td class="colLast">
<div class="block">Will test if there is a unique index/constraint for (certificate serial number,issuer DN) first time it is run.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reloadCaCertificateCache()">reloadCaCertificateCache</a></span>()</code></th>
<td class="colLast">
<div class="block">Reloads the cache containing CA certificates</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reloadCaCertificateCacheAndSetTimeout()">reloadCaCertificateCacheAndSetTimeout</a></span>()</code></th>
<td class="colLast">
<div class="block">Invoked from timer.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeUniqueCertificateSerialNumberTestCertificates()">removeUniqueCertificateSerialNumberTestCertificates</a></span>()</code></th>
<td class="colLast">
<div class="block">Removed certificates created during checks for present certificate serial number unique index.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resetUniqueCertificateSerialNumberIndex()">resetUniqueCertificateSerialNumberIndex</a></span>()</code></th>
<td class="colLast">
<div class="block">ONLY use in Unit tests.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRevokeStatus(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.CertificateDataWrapper,java.util.Date,int)">setRevokeStatus</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
               <a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a>&nbsp;cdw,
               <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;revokedDate,
               int&nbsp;reason)</code></th>
<td class="colLast">
<div class="block">Set the status of certificate with given serno to revoked, or unrevoked (re-activation).</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRevokeStatusNoAuth(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.BaseCertificateData,java.util.Date,int)">setRevokeStatusNoAuth</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                     <a href="BaseCertificateData.html" title="class in org.cesecore.certificates.certificate">BaseCertificateData</a>&nbsp;certificateData,
                     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;revokeDate,
                     int&nbsp;reason)</code></th>
<td class="colLast">
<div class="block">Method to set the status of certificate to revoked or active, without checking for authorization.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRolloverDoneStatus(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String)">setRolloverDoneStatus</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fingerprint)</code></th>
<td class="colLast">
<div class="block">Changes a certificate from CERT_ROLLOVERPENDING to CERT_ACTIVE.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUniqueCertificateSerialNumberIndex(java.lang.Boolean)">setUniqueCertificateSerialNumberIndex</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang" class="externalLink">Boolean</a>&nbsp;value)</code></th>
<td class="colLast">
<div class="block">ONLY use in Unit tests or during controlled startup.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storeCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.security.cert.Certificate,java.lang.String,java.lang.String,int,int,int,int,java.lang.String,long)">storeCertificate</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;incert,
                <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;cafp,
                int&nbsp;status,
                int&nbsp;type,
                int&nbsp;certificateProfileId,
                int&nbsp;endEntityProfileId,
                <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tag,
                long&nbsp;updateTime)</code></th>
<td class="colLast">
<div class="block">Stores a certificate.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storeCertificateNoAuth(org.cesecore.authentication.tokens.AuthenticationToken,java.security.cert.Certificate,java.lang.String,java.lang.String,int,int,int,int,java.lang.String,long)">storeCertificateNoAuth</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;incert,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;cafp,
                      int&nbsp;status,
                      int&nbsp;type,
                      int&nbsp;certificateProfileId,
                      int&nbsp;endEntityProfileId,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tag,
                      long&nbsp;updateTime)</code></th>
<td class="colLast">
<div class="block">Stores a certificate without checking authorization.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateCertificateOnly(org.cesecore.authentication.tokens.AuthenticationToken,java.security.cert.Certificate)">updateCertificateOnly</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;authenticationToken,
                     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;certificate)</code></th>
<td class="colLast">
<div class="block">Update the base64cert column if the database row exists, but the column is empty.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateLimitedCertificateDataStatus(org.cesecore.authentication.tokens.AuthenticationToken,int,java.lang.String,java.lang.String,java.lang.String,java.math.BigInteger,int,java.util.Date,int,java.lang.String)">updateLimitedCertificateDataStatus</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                  int&nbsp;caId,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDn,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;subjectDn,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html?is-external=true" title="class or interface in java.math" class="externalLink">BigInteger</a>&nbsp;serialNumber,
                                  int&nbsp;status,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;revocationDate,
                                  int&nbsp;reasonCode,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;caFingerprint)</code></th>
<td class="colLast">
<div class="block">Method for populating the CertificateData table with limited information for example from a CRL, so the OCSP responder can answer if a certificate is revoked.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateLimitedCertificateDataStatus(org.cesecore.authentication.tokens.AuthenticationToken,int,java.lang.String,java.math.BigInteger,java.util.Date,int,java.lang.String)">updateLimitedCertificateDataStatus</a></span>&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                  int&nbsp;caId,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDn,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html?is-external=true" title="class or interface in java.math" class="externalLink">BigInteger</a>&nbsp;serialNumber,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;revocationDate,
                                  int&nbsp;reasonCode,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;caFingerprint)</code></th>
<td class="colLast">
<div class="block">Creates a revoked certificate data, for use with OCSP or CRL generation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.cesecore.certificates.certificate.CertificateStoreSession">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.cesecore.certificates.certificate.<a href="CertificateStoreSession.html" title="interface in org.cesecore.certificates.certificate">CertificateStoreSession</a></h3>
<code><a href="CertificateStoreSession.html#findCertificateByFingerprint(java.lang.String)">findCertificateByFingerprint</a>, <a href="CertificateStoreSession.html#findCertificateByIssuerAndSerno(java.lang.String,java.math.BigInteger)">findCertificateByIssuerAndSerno</a>, <a href="CertificateStoreSession.html#findCertificatesByExpireTimeAndIssuerWithLimit(java.util.Date,java.lang.String,int)">findCertificatesByExpireTimeAndIssuerWithLimit</a>, <a href="CertificateStoreSession.html#findCertificatesByExpireTimeAndTypeWithLimit(java.util.Date,int,int)">findCertificatesByExpireTimeAndTypeWithLimit</a>, <a href="CertificateStoreSession.html#findCertificatesByExpireTimeWithLimit(java.util.Date)">findCertificatesByExpireTimeWithLimit</a>, <a href="CertificateStoreSession.html#findCertificatesByExpireTimeWithLimit(java.util.Date,int)">findCertificatesByExpireTimeWithLimit</a>, <a href="CertificateStoreSession.html#findCertificatesByIssuerAndSernos(java.lang.String,java.util.Collection)">findCertificatesByIssuerAndSernos</a>, <a href="CertificateStoreSession.html#findCertificatesBySubject(java.lang.String)">findCertificatesBySubject</a>, <a href="CertificateStoreSession.html#findCertificatesBySubjectAndIssuer(java.lang.String,java.lang.String)">findCertificatesBySubjectAndIssuer</a>, <a href="CertificateStoreSession.html#findCertificatesBySubjectAndIssuer(java.lang.String,java.lang.String,boolean)">findCertificatesBySubjectAndIssuer</a>, <a href="CertificateStoreSession.html#findCertificatesBySubjectKeyId(byte%5B%5D)">findCertificatesBySubjectKeyId</a>, <a href="CertificateStoreSession.html#findCertificatesByType(int,java.lang.String)">findCertificatesByType</a>, <a href="CertificateStoreSession.html#findCertificatesByUsername(java.lang.String)">findCertificatesByUsername</a>, <a href="CertificateStoreSession.html#findCertificatesByUsernameAndStatus(java.lang.String,int)">findCertificatesByUsernameAndStatus</a>, <a href="CertificateStoreSession.html#findCertificatesByUsernameAndStatusAfterExpireDate(java.lang.String,int,long)">findCertificatesByUsernameAndStatusAfterExpireDate</a>, <a href="CertificateStoreSession.html#findExpiringCertificates(java.util.Date,int,int)">findExpiringCertificates</a>, <a href="CertificateStoreSession.html#findLatestX509CertificateBySubject(java.lang.String)">findLatestX509CertificateBySubject</a>, <a href="CertificateStoreSession.html#findLatestX509CertificateBySubject(java.lang.String,java.security.cert.X509Certificate,boolean)">findLatestX509CertificateBySubject</a>, <a href="CertificateStoreSession.html#findNumberOfExpiringCertificates(java.util.Date)">findNumberOfExpiringCertificates</a>, <a href="CertificateStoreSession.html#findUsernameByCertSerno(java.math.BigInteger,java.lang.String)">findUsernameByCertSerno</a>, <a href="CertificateStoreSession.html#findUsernameByIssuerDnAndSerialNumber(java.lang.String,java.math.BigInteger)">findUsernameByIssuerDnAndSerialNumber</a>, <a href="CertificateStoreSession.html#findUsernamesByExpireTimeWithLimit(java.util.Date)">findUsernamesByExpireTimeWithLimit</a>, <a href="CertificateStoreSession.html#findUsernamesByIssuerDNAndSubjectDN(java.lang.String,java.lang.String)">findUsernamesByIssuerDNAndSubjectDN</a>, <a href="CertificateStoreSession.html#findUsernamesByIssuerDNAndSubjectKeyId(java.lang.String,byte%5B%5D)">findUsernamesByIssuerDNAndSubjectKeyId</a>, <a href="CertificateStoreSession.html#getCertificateAndStatus(java.lang.String,java.math.BigInteger)">getCertificateAndStatus</a>, <a href="CertificateStoreSession.html#getCertificateChain(org.cesecore.certificates.certificate.CertificateInfo)">getCertificateChain</a>, <a href="CertificateStoreSession.html#getCertificateDataByIssuerAndSerno(java.lang.String,java.math.BigInteger)">getCertificateDataByIssuerAndSerno</a>, <a href="CertificateStoreSession.html#getCertificateDataBySerno(java.math.BigInteger)">getCertificateDataBySerno</a>, <a href="CertificateStoreSession.html#getCertificateDataByUsername(java.lang.String,boolean,java.util.List)">getCertificateDataByUsername</a>, <a href="CertificateStoreSession.html#getCertificateInfo(java.lang.String)">getCertificateInfo</a>, <a href="CertificateStoreSession.html#getStatus(java.lang.String,java.math.BigInteger)">getStatus</a>, <a href="CertificateStoreSession.html#isRevoked(java.lang.String,java.math.BigInteger)">isRevoked</a>, <a href="CertificateStoreSession.html#listAllCertificates(java.lang.String)">listAllCertificates</a>, <a href="CertificateStoreSession.html#listRevokedCertInfo(java.lang.String,long)">listRevokedCertInfo</a>, <a href="CertificateStoreSession.html#revokeAllCertByCA(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,int)">revokeAllCertByCA</a>, <a href="CertificateStoreSession.html#setStatus(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String,int)">setStatus</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="findFirstCertificateInfo(java.lang.String,java.math.BigInteger)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findFirstCertificateInfo</h4>
<pre class="methodSignature"><a href="CertificateInfo.html" title="class in org.cesecore.certificates.certificate">CertificateInfo</a>&nbsp;findFirstCertificateInfo&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDN,
                                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html?is-external=true" title="class or interface in java.math" class="externalLink">BigInteger</a>&nbsp;serno)</pre>
<div class="block">return CertificateInfo for the certificate with issuerDN and serno. If there are multiple certificates
 with the same issuerDN, serno (should only be possible for CVC certificates) the first one (returned from database) is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>issuerDN</code> - issuer DN of the desired certificate.</dd>
<dd><code>serno</code> - serial number of the desired certificate!</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>CertificateInfo if found or null</dd>
</dl>
</li>
</ul>
<a id="storeCertificate(org.cesecore.authentication.tokens.AuthenticationToken,java.security.cert.Certificate,java.lang.String,java.lang.String,int,int,int,int,java.lang.String,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeCertificate</h4>
<pre class="methodSignature"><a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a>&nbsp;storeCertificate&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;incert,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;cafp,
                                        int&nbsp;status,
                                        int&nbsp;type,
                                        int&nbsp;certificateProfileId,
                                        int&nbsp;endEntityProfileId,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tag,
                                        long&nbsp;updateTime)
                                 throws <a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></pre>
<div class="block">Stores a certificate.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - An authentication token to authorize the action</dd>
<dd><code>incert</code> - The certificate to be stored.</dd>
<dd><code>cafp</code> - Fingerprint (hex) of the CAs certificate.</dd>
<dd><code>username</code> - username of end entity owning the certificate.</dd>
<dd><code>status</code> - the status from the CertificateConstants.CERT_ constants</dd>
<dd><code>type</code> - Type of certificate (CERTTYPE_ENDENTITY etc from CertificateConstants).</dd>
<dd><code>certificateProfileId</code> - the certificate profile id this cert was issued under</dd>
<dd><code>endEntityProfileId</code> - the end entity profile id this cert was issued under</dd>
<dd><code>tag</code> - a custom string tagging this certificate for some purpose</dd>
<dd><code>updateTime</code> - epoch millis to use as last update time of the stored object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>CertificateDataWrapper with the certificate just stored that can be used for further publishing</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - if admin was not authorized to store certificate in database</dd>
</dl>
</li>
</ul>
<a id="storeCertificateNoAuth(org.cesecore.authentication.tokens.AuthenticationToken,java.security.cert.Certificate,java.lang.String,java.lang.String,int,int,int,int,java.lang.String,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeCertificateNoAuth</h4>
<pre class="methodSignature"><a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a>&nbsp;storeCertificateNoAuth&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;incert,
                                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;cafp,
                                              int&nbsp;status,
                                              int&nbsp;type,
                                              int&nbsp;certificateProfileId,
                                              int&nbsp;endEntityProfileId,
                                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tag,
                                              long&nbsp;updateTime)</pre>
<div class="block">Stores a certificate without checking authorization. This should be used from other methods where authorization to
 the CA issuing the certificate has already been checked. For efficiency this method can then be used.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - An authentication token to authorize the action</dd>
<dd><code>incert</code> - The certificate to be stored.</dd>
<dd><code>cafp</code> - Fingerprint (hex) of the CAs certificate.</dd>
<dd><code>username</code> - username of end entity owning the certificate.</dd>
<dd><code>status</code> - the status from the CertificateConstants.CERT_ constants</dd>
<dd><code>type</code> - Type of certificate (CERTTYPE_ENDENTITY etc from CertificateConstants).</dd>
<dd><code>certificateProfileId</code> - the certificate profile id this cert was issued under</dd>
<dd><code>endEntityProfileId</code> - the end entity profile id this cert was issued under</dd>
<dd><code>tag</code> - a custom string tagging this certificate for some purpose</dd>
<dd><code>updateTime</code> - epoch millis to use as last update time of the stored object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>CertificateDataWrapper with the certificate just stored that can be used for further publishing</dd>
</dl>
</li>
</ul>
<a id="getCertificateData(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCertificateData</h4>
<pre class="methodSignature"><a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a>&nbsp;getCertificateData&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fingerprint)</pre>
<div class="block">Retrieve the full wrapped CertificateData and Base64CertData objects.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fingerprint</code> - Fingerprint</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the sought certificate, or null if no data for the specified fingerprint exists</dd>
</dl>
</li>
</ul>
<a id="updateCertificateOnly(org.cesecore.authentication.tokens.AuthenticationToken,java.security.cert.Certificate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateCertificateOnly</h4>
<pre class="methodSignature">boolean&nbsp;updateCertificateOnly&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;authenticationToken,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;certificate)</pre>
<div class="block">Update the base64cert column if the database row exists, but the column is empty.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authenticationToken</code> - Auth token</dd>
<dd><code>certificate</code> - Certificate</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the column was empty and is now populated.</dd>
</dl>
</li>
</ul>
<a id="findExpirationInfo(java.util.Collection,java.util.Collection,long,long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findExpirationInfo</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>[]&gt;&nbsp;findExpirationInfo&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;cas,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;certificateProfiles,
                                  long&nbsp;activeNotifiedExpireDateMin,
                                  long&nbsp;activeNotifiedExpireDateMax,
                                  long&nbsp;activeExpireDateMin)</pre>
<div class="block">Fetch a List of all certificate fingerprints and corresponding username</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cas</code> - A list of CAs that the sought certificates should be issued from</dd>
<dd><code>certificateProfiles</code> - A list if certificateprofiles to sort from. Will be ignored if left empty.</dd>
<dd><code>activeNotifiedExpireDateMin</code> - The minimal date for expiration notification</dd>
<dd><code>activeNotifiedExpireDateMax</code> - The maxmimal date for expiration notification</dd>
<dd><code>activeExpireDateMin</code> - the current rune timestamp + the threshold</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>[0] = (String) fingerprint, [1] = (String) username</dd>
</dl>
</li>
</ul>
<a id="isOnlyUsernameForSubjectKeyIdOrDnAndIssuerDN(java.lang.String,byte[],java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOnlyUsernameForSubjectKeyIdOrDnAndIssuerDN</h4>
<pre class="methodSignature">boolean&nbsp;isOnlyUsernameForSubjectKeyIdOrDnAndIssuerDN&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDN,
                                                     byte[]&nbsp;subjectKeyId,
                                                     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;subjectDN,
                                                     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username)</pre>
<div class="block">Query if we have a clear cut case where no username or the provided username is the only user of the subjectDN and subjectKeyId.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>issuerDN</code> - The CA's subject</dd>
<dd><code>subjectDN</code> - The entity's subject</dd>
<dd><code>subjectKeyId</code> - The entity's subjectKeyId</dd>
<dd><code>username</code> - the entity's username</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there is no other end entity under this issuer with the same subjectKeyId or subjectDN</dd>
</dl>
</li>
</ul>
<a id="findMostRecentlyUpdatedActiveCertificate(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findMostRecentlyUpdatedActiveCertificate</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;findMostRecentlyUpdatedActiveCertificate&#8203;(byte[]&nbsp;subjectKeyId)</pre>
<div class="block">Find the most recently issued/updated certificate for a public key</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subjectKeyId</code> - Is the ASN.1 SubjectKeyIdentifier of the public key as a byte array</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null or the certificate which is active, matches the argument and has the latest updateTime</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../keys/util/KeyTools.html#createSubjectKeyId(java.security.PublicKey)"><code>KeyTools.createSubjectKeyId(java.security.PublicKey)</code></a></dd>
</dl>
</li>
</ul>
<a id="findUsernameByFingerprint(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findUsernameByFingerprint</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;findUsernameByFingerprint&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fingerprint)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fingerprint</code> - FP</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the username or null if no row was found for this certificate fingerprint</dd>
</dl>
</li>
</ul>
<a id="getCADnFromRequest(org.cesecore.certificates.certificate.request.RequestMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCADnFromRequest</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getCADnFromRequest&#8203;(<a href="request/RequestMessage.html" title="interface in org.cesecore.certificates.certificate.request">RequestMessage</a>&nbsp;req)</pre>
<div class="block">Tries to get an issuerDN/serialNumber pair from the request, and see if we have that CA certificate in the certificate store. If we have
 the CA dn, in CESeCore normalized form, is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>req</code> - the request message that might contain an issued DN</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>issuer DN or null if it does not exist in the</dd>
</dl>
</li>
</ul>
<a id="isUniqueCertificateSerialNumberIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUniqueCertificateSerialNumberIndex</h4>
<pre class="methodSignature">boolean&nbsp;isUniqueCertificateSerialNumberIndex()</pre>
<div class="block">Will test if there is a unique index/constraint for (certificate serial number,issuer DN) first time it is run.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns true if there is a database index for unique certificate serial number / issuer DN.</dd>
</dl>
</li>
</ul>
<a id="resetUniqueCertificateSerialNumberIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetUniqueCertificateSerialNumberIndex</h4>
<pre class="methodSignature">void&nbsp;resetUniqueCertificateSerialNumberIndex()</pre>
<div class="block">ONLY use in Unit tests.
 Required by multiple entry unit tests since isUniqueCertificateSerialNumberIndex is a static variable.</div>
</li>
</ul>
<a id="setUniqueCertificateSerialNumberIndex(java.lang.Boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUniqueCertificateSerialNumberIndex</h4>
<pre class="methodSignature">void&nbsp;setUniqueCertificateSerialNumberIndex&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang" class="externalLink">Boolean</a>&nbsp;value)</pre>
<div class="block">ONLY use in Unit tests or during controlled startup.
 Sets the check for present certificate serial number unique index to specified value. Can be used to override safety check that the 
 index exists.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - index</dd>
</dl>
</li>
</ul>
<a id="checkForUniqueCertificateSerialNumberIndexInTransaction(org.cesecore.authentication.tokens.AuthenticationToken,java.security.cert.Certificate,java.lang.String,java.lang.String,int,int,int,int,java.lang.String,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkForUniqueCertificateSerialNumberIndexInTransaction</h4>
<pre class="methodSignature">void&nbsp;checkForUniqueCertificateSerialNumberIndexInTransaction&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                                             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert" class="externalLink">Certificate</a>&nbsp;incert,
                                                             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                                                             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;cafp,
                                                             int&nbsp;status,
                                                             int&nbsp;type,
                                                             int&nbsp;certificateProfileId,
                                                             int&nbsp;endEntityProfileId,
                                                             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tag,
                                                             long&nbsp;updateTime)
                                                      throws <a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></pre>
<div class="block">Checks for present certificate serial number unique index in a new transaction in order to avoid rollback, since we can expect SQL exceptions here. 
 Should not be used externally.
 NOTE: does not add an event to the security audit log, that test certificates were added to the database, and removed.
 All normal operations that stores certificates in the database creates audit log events.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - An authentication token to authorize the action</dd>
<dd><code>incert</code> - The certificate to be stored.</dd>
<dd><code>cafp</code> - Fingerprint (hex) of the CAs certificate.</dd>
<dd><code>username</code> - username of end entity owning the certificate.</dd>
<dd><code>status</code> - the status from the CertificateConstants.CERT_ constants</dd>
<dd><code>type</code> - Type of certificate (CERTTYPE_ENDENTITY etc from CertificateConstants).</dd>
<dd><code>certificateProfileId</code> - the certificate profile id this cert was issued under</dd>
<dd><code>endEntityProfileId</code> - the end entity profile id this cert was issued under</dd>
<dd><code>tag</code> - a custom string tagging this certificate for some purpose</dd>
<dd><code>updateTime</code> - epoch millis to use as last update time of the stored object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - If access denied</dd>
</dl>
</li>
</ul>
<a id="removeUniqueCertificateSerialNumberTestCertificates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeUniqueCertificateSerialNumberTestCertificates</h4>
<pre class="methodSignature">void&nbsp;removeUniqueCertificateSerialNumberTestCertificates()</pre>
<div class="block">Removed certificates created during checks for present certificate serial number unique index. 
 Should not be used externally.</div>
</li>
</ul>
<a id="updateLimitedCertificateDataStatus(org.cesecore.authentication.tokens.AuthenticationToken,int,java.lang.String,java.math.BigInteger,java.util.Date,int,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateLimitedCertificateDataStatus</h4>
<pre class="methodSignature">void&nbsp;updateLimitedCertificateDataStatus&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                        int&nbsp;caId,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDn,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html?is-external=true" title="class or interface in java.math" class="externalLink">BigInteger</a>&nbsp;serialNumber,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;revocationDate,
                                        int&nbsp;reasonCode,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;caFingerprint)
                                 throws <a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></pre>
<div class="block">Creates a revoked certificate data, for use with OCSP or CRL generation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - an admin that is authorized to the CA that issued the certificate</dd>
<dd><code>caId</code> - the CA identifier</dd>
<dd><code>issuerDn</code> - the BC normalized version of the issuer DN</dd>
<dd><code>serialNumber</code> - the certificate serial number</dd>
<dd><code>revocationDate</code> - the date of revocation</dd>
<dd><code>reasonCode</code> - one of RevokedCertInfo.REVOCATION_REASON_...</dd>
<dd><code>caFingerprint</code> - the SHA-1 of the CA Certificate that issued this entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - If access denied</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#updateLimitedCertificateDataStatus(org.cesecore.authentication.tokens.AuthenticationToken,int,java.lang.String,java.lang.String,java.lang.String,java.math.BigInteger,int,java.util.Date,int,java.lang.String)"><code>updateLimitedCertificateDataStatus(AuthenticationToken, int, String, String, String, BigInteger, int, Date, int, String)</code></a></dd>
</dl>
</li>
</ul>
<a id="updateLimitedCertificateDataStatus(org.cesecore.authentication.tokens.AuthenticationToken,int,java.lang.String,java.lang.String,java.lang.String,java.math.BigInteger,int,java.util.Date,int,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateLimitedCertificateDataStatus</h4>
<pre class="methodSignature">void&nbsp;updateLimitedCertificateDataStatus&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                                        int&nbsp;caId,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDn,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;subjectDn,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html?is-external=true" title="class or interface in java.math" class="externalLink">BigInteger</a>&nbsp;serialNumber,
                                        int&nbsp;status,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;revocationDate,
                                        int&nbsp;reasonCode,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;caFingerprint)
                                 throws <a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></pre>
<div class="block">Method for populating the CertificateData table with limited information for example from a CRL, so the OCSP responder can answer if a certificate is revoked.
 
 Existing entries may only be modified if they were created through this method.
 Updating an entry by providing RevokedCertInfo.REVOCATION_REASON_REMOVEFROMCRL as reasonCode will remove the row from the table.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - an admin that is authorized to the CA that issued the certificate</dd>
<dd><code>caId</code> - the CA identifier</dd>
<dd><code>issuerDn</code> - the BC normalized version of the issuer DN</dd>
<dd><code>subjectDn</code> - the BC normalized version of the subject DN</dd>
<dd><code>username</code> - Username</dd>
<dd><code>serialNumber</code> - the certificate serial number</dd>
<dd><code>status</code> - Certificate status</dd>
<dd><code>revocationDate</code> - the date of revocation</dd>
<dd><code>reasonCode</code> - one of RevokedCertInfo.REVOCATION_REASON_...</dd>
<dd><code>caFingerprint</code> - the SHA-1 of the CA Certificate that issued this entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - If access denied</dd>
</dl>
</li>
</ul>
<a id="reloadCaCertificateCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reloadCaCertificateCache</h4>
<pre class="methodSignature">void&nbsp;reloadCaCertificateCache()</pre>
<div class="block">Reloads the cache containing CA certificates</div>
</li>
</ul>
<a id="reloadCaCertificateCacheAndSetTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reloadCaCertificateCacheAndSetTimeout</h4>
<pre class="methodSignature">void&nbsp;reloadCaCertificateCacheAndSetTimeout()</pre>
<div class="block">Invoked from timer. Reloads the cache containing CA certificates and additionally sets a new timeout.</div>
</li>
</ul>
<a id="initTimers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initTimers</h4>
<pre class="methodSignature">void&nbsp;initTimers()</pre>
<div class="block">Initialize all timers and related operations used by this bean.</div>
</li>
</ul>
<a id="setRevokeStatus(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.CertificateDataWrapper,java.util.Date,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRevokeStatus</h4>
<pre class="methodSignature">boolean&nbsp;setRevokeStatus&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                        <a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a>&nbsp;cdw,
                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;revokedDate,
                        int&nbsp;reason)
                 throws <a href="CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a>,
                        <a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></pre>
<div class="block">Set the status of certificate with given serno to revoked, or unrevoked (re-activation).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - AuthenticationToken performing the operation</dd>
<dd><code>cdw</code> - the certificate data to revoke or activate.</dd>
<dd><code>revokedDate</code> - when it was revoked</dd>
<dd><code>reason</code> - the reason of the revocation. (One of the RevokedCertInfo.REVOCATION_REASON constants.)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if status was changed in the database, false if not, for example if the certificate was already revoked</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a></code> - (rollback) if certificate does not exist</dd>
<dd><code><a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - (rollback)</dd>
</dl>
</li>
</ul>
<a id="getCertificateDatasBySubjectAndIssuer(java.lang.String,java.lang.String,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCertificateDatasBySubjectAndIssuer</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a>&gt;&nbsp;getCertificateDatasBySubjectAndIssuer&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;subjectDN,
                                                                   <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDN,
                                                                   boolean&nbsp;onlyActive)</pre>
<div class="block">Lists certificate datas for a given subject signed by the given issuer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subjectDN</code> - the DN of the subject whose certificates will be retrieved.</dd>
<dd><code>issuerDN</code> - the DN of the certificates issuer.</dd>
<dd><code>onlyActive</code> - set to true to limit the search to active (non revoked, unexpired) certificates.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of certificate datas in no specified order or an empty List.</dd>
</dl>
</li>
</ul>
<a id="getCertificateDatasBySubject(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCertificateDatasBySubject</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="CertificateDataWrapper.html" title="class in org.cesecore.certificates.certificate">CertificateDataWrapper</a>&gt;&nbsp;getCertificateDatasBySubject&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;subjectDN)</pre>
<div class="block">Lists certificate datas for a given subject.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subjectDN</code> - the DN of the subject whose certificates will be retrieved.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of certificate datas in no specified order or an empty List.</dd>
</dl>
</li>
</ul>
<a id="setRevokeStatusNoAuth(org.cesecore.authentication.tokens.AuthenticationToken,org.cesecore.certificates.certificate.BaseCertificateData,java.util.Date,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRevokeStatusNoAuth</h4>
<pre class="methodSignature">boolean&nbsp;setRevokeStatusNoAuth&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                              <a href="BaseCertificateData.html" title="class in org.cesecore.certificates.certificate">BaseCertificateData</a>&nbsp;certificateData,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html?is-external=true" title="class or interface in java.util" class="externalLink">Date</a>&nbsp;revokeDate,
                              int&nbsp;reason)
                       throws <a href="CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a></pre>
<div class="block">Method to set the status of certificate to revoked or active, without checking for authorization. 
 This is why it is important that this method is _local only_.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - Administrator performing the operation</dd>
<dd><code>certificateData</code> - the certificate to change status of. May also be a new NoConflictCertificateData row to store in the database (generally, a throw away certificate to revoke).</dd>
<dd><code>revokeDate</code> - when it was revoked</dd>
<dd><code>reason</code> - the reason of the revocation. (One of the RevokedCertInfo.REVOCATION_REASON constants.)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if status was changed in the database, false if not, for example if the certificate was already revoked</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CertificateRevokeException.html" title="class in org.cesecore.certificates.certificate">CertificateRevokeException</a></code> - (rollback) if certificate does not exist</dd>
</dl>
</li>
</ul>
<a id="setRolloverDoneStatus(org.cesecore.authentication.tokens.AuthenticationToken,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRolloverDoneStatus</h4>
<pre class="methodSignature">void&nbsp;setRolloverDoneStatus&#8203;(<a href="../../authentication/tokens/AuthenticationToken.html" title="class in org.cesecore.authentication.tokens">AuthenticationToken</a>&nbsp;admin,
                           <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fingerprint)
                    throws <a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></pre>
<div class="block">Changes a certificate from CERT_ROLLOVERPENDING to CERT_ACTIVE. If the certificate status is already CERT_ACTIVE, then it does nothing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>admin</code> - Administrator performing the operation</dd>
<dd><code>fingerprint</code> - Fingerprint of the certificate</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../authorization/AuthorizationDeniedException.html" title="class in org.cesecore.authorization">AuthorizationDeniedException</a></code> - if access denied</dd>
</dl>
</li>
</ul>
<a id="existsByIssuerAndSerno(java.lang.String,java.math.BigInteger)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existsByIssuerAndSerno</h4>
<pre class="methodSignature">boolean&nbsp;existsByIssuerAndSerno&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDN,
                               <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html?is-external=true" title="class or interface in java.math" class="externalLink">BigInteger</a>&nbsp;serno)</pre>
<div class="block">Method for speedy checks if a certificate exists for issuerDN, serno</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>issuerDN</code> - issuer DN of the desired certificate.</dd>
<dd><code>serno</code> - serial number of the desired certificate!</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a Certificate exists, false otherwise</dd>
</dl>
</li>
</ul>
<a id="getFirstStatusByIssuerAndSerno(java.lang.String,java.math.BigInteger)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getFirstStatusByIssuerAndSerno</h4>
<pre class="methodSignature">int&nbsp;getFirstStatusByIssuerAndSerno&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;issuerDN,
                                   <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html?is-external=true" title="class or interface in java.math" class="externalLink">BigInteger</a>&nbsp;serno)</pre>
<div class="block">Gets the status of the certificate, or -1 if the certificate does not exist. 
 If more than one certificate exists with the issuerDN/serialNumber, the first one is returned.
 This query performs limited database read and thus will not verify database integrity protection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>issuerDN</code> - issuer DN of the desired certificate.</dd>
<dd><code>serno</code> - serial number of the desired certificate!</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>one of the <a href="CertificateConstants.html" title="class in org.cesecore.certificates.certificate"><code>CertificateConstants</code></a> statuses or -1 if the certificate does not exist in the database.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CertificateStoreSessionLocal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2020. All rights reserved.</small></p>
</footer>
</body>
</html>